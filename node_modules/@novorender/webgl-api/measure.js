const e=Symbol("Comlink.proxy"),t=Symbol("Comlink.endpoint"),n=Symbol("Comlink.releaseProxy"),r=Symbol("Comlink.thrown"),o=e=>"object"==typeof e&&null!==e||"function"==typeof e,s=new Map([["proxy",{canHandle:t=>o(t)&&t[e],serialize(e){const{port1:t,port2:n}=new MessageChannel;return i(e,t),[n,[n]]},deserialize:e=>(e.start(),d(e,[],undefined))}],["throw",{canHandle:e=>o(e)&&r in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function i(e,t=self){t.addEventListener("message",(function n(o){if(!o||!o.data)return;const{id:s,type:c,path:d}=Object.assign({path:[]},o.data),u=(o.data.argumentList||[]).map(p);let g;try{const t=d.slice(0,-1).reduce(((e,t)=>e[t]),e),n=d.reduce(((e,t)=>e[t]),e);switch(c){case"GET":g=n;break;case"SET":t[d.slice(-1)[0]]=p(o.data.value),g=!0;break;case"APPLY":g=n.apply(t,u);break;case"CONSTRUCT":g=h(new n(...u));break;case"ENDPOINT":{const{port1:t,port2:n}=new MessageChannel;i(e,n),g=function(e,t){return l.set(e,t),e}(t,[t])}break;case"RELEASE":g=void 0;break;default:return}}catch(e){g={value:e,[r]:0}}Promise.resolve(g).catch((e=>({value:e,[r]:0}))).then((e=>{const[r,o]=f(e);t.postMessage(Object.assign(Object.assign({},r),{id:s}),o),"RELEASE"===c&&(t.removeEventListener("message",n),a(t))}))})),t.start&&t.start()}function a(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function c(e){if(e)throw new Error("Proxy has been released and is not useable")}function d(e,r=[],o=function(){}){let s=!1;const i=new Proxy(o,{get(t,o){if(c(s),o===n)return()=>g(e,{type:"RELEASE",path:r.map((e=>e.toString()))}).then((()=>{a(e),s=!0}));if("then"===o){if(0===r.length)return{then:()=>i};const t=g(e,{type:"GET",path:r.map((e=>e.toString()))}).then(p);return t.then.bind(t)}return d(e,[...r,o])},set(t,n,o){c(s);const[i,a]=f(o);return g(e,{type:"SET",path:[...r,n].map((e=>e.toString())),value:i},a).then(p)},apply(n,o,i){c(s);const a=r[r.length-1];if(a===t)return g(e,{type:"ENDPOINT"}).then(p);if("bind"===a)return d(e,r.slice(0,-1));const[l,h]=u(i);return g(e,{type:"APPLY",path:r.map((e=>e.toString())),argumentList:l},h).then(p)},construct(t,n){c(s);const[o,i]=u(n);return g(e,{type:"CONSTRUCT",path:r.map((e=>e.toString())),argumentList:o},i).then(p)}});return i}function u(e){const t=e.map(f);return[t.map((e=>e[0])),(n=t.map((e=>e[1])),Array.prototype.concat.apply([],n))];var n}const l=new WeakMap;function h(t){return Object.assign(t,{[e]:!0})}function f(e){for(const[t,n]of s)if(n.canHandle(e)){const[r,o]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},o]}return[{type:"RAW",value:e},l.get(e)||[]]}function p(e){switch(e.type){case"HANDLER":return s.get(e.name).deserialize(e.value);case"RAW":return e.value}}function g(e,t,n){return new Promise((r=>{const o=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===o&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:o},t),n)}))}var E="undefined"!=typeof Float32Array?Float32Array:Array;function O(e){E=e}function b(){var e=new E(9);return E!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function D(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function _(e,t){var n=t[0],r=t[1],o=t[2],s=t[3],i=t[4],a=t[5],c=t[6],d=t[7],u=t[8],l=t[9],h=t[10],f=t[11],p=t[12],g=t[13],E=t[14],O=t[15],b=n*a-r*i,D=n*c-o*i,_=n*d-s*i,w=r*c-o*a,T=r*d-s*a,y=o*d-s*c,P=u*g-l*p,m=u*E-h*p,M=u*O-f*p,v=l*E-h*g,R=l*O-f*g,S=h*O-f*E,A=b*S-D*R+_*v+w*M-T*m+y*P;return A?(A=1/A,e[0]=(a*S-c*R+d*v)*A,e[1]=(c*M-i*S-d*m)*A,e[2]=(i*R-a*M+d*P)*A,e[3]=(o*R-r*S-s*v)*A,e[4]=(n*S-o*M+s*m)*A,e[5]=(r*M-n*R-s*P)*A,e[6]=(g*y-E*T+O*w)*A,e[7]=(E*_-p*y-O*D)*A,e[8]=(p*T-g*_+O*b)*A,e):null}function w(){var e=new E(16);return E!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function T(e,t,n,r,o,s,i,a,c,d,u,l,h,f,p,g){var O=new E(16);return O[0]=e,O[1]=t,O[2]=n,O[3]=r,O[4]=o,O[5]=s,O[6]=i,O[7]=a,O[8]=c,O[9]=d,O[10]=u,O[11]=l,O[12]=h,O[13]=f,O[14]=p,O[15]=g,O}function y(e,t){var n=t[0],r=t[1],o=t[2],s=t[3],i=t[4],a=t[5],c=t[6],d=t[7],u=t[8],l=t[9],h=t[10],f=t[11],p=t[12],g=t[13],E=t[14],O=t[15],b=n*a-r*i,D=n*c-o*i,_=n*d-s*i,w=r*c-o*a,T=r*d-s*a,y=o*d-s*c,P=u*g-l*p,m=u*E-h*p,M=u*O-f*p,v=l*E-h*g,R=l*O-f*g,S=h*O-f*E,A=b*S-D*R+_*v+w*M-T*m+y*P;return A?(A=1/A,e[0]=(a*S-c*R+d*v)*A,e[1]=(o*R-r*S-s*v)*A,e[2]=(g*y-E*T+O*w)*A,e[3]=(h*T-l*y-f*w)*A,e[4]=(c*M-i*S-d*m)*A,e[5]=(n*S-o*M+s*m)*A,e[6]=(E*_-p*y-O*D)*A,e[7]=(u*y-h*_+f*D)*A,e[8]=(i*R-a*M+d*P)*A,e[9]=(r*M-n*R-s*P)*A,e[10]=(p*T-g*_+O*b)*A,e[11]=(l*_-u*T-f*b)*A,e[12]=(a*m-i*v-c*P)*A,e[13]=(n*v-r*m+o*P)*A,e[14]=(g*D-p*w-E*b)*A,e[15]=(u*w-l*D+h*b)*A,e):null}function P(e,t,n){var r=t[0],o=t[1],s=t[2],i=t[3],a=t[4],c=t[5],d=t[6],u=t[7],l=t[8],h=t[9],f=t[10],p=t[11],g=t[12],E=t[13],O=t[14],b=t[15],D=n[0],_=n[1],w=n[2],T=n[3];return e[0]=D*r+_*a+w*l+T*g,e[1]=D*o+_*c+w*h+T*E,e[2]=D*s+_*d+w*f+T*O,e[3]=D*i+_*u+w*p+T*b,D=n[4],_=n[5],w=n[6],T=n[7],e[4]=D*r+_*a+w*l+T*g,e[5]=D*o+_*c+w*h+T*E,e[6]=D*s+_*d+w*f+T*O,e[7]=D*i+_*u+w*p+T*b,D=n[8],_=n[9],w=n[10],T=n[11],e[8]=D*r+_*a+w*l+T*g,e[9]=D*o+_*c+w*h+T*E,e[10]=D*s+_*d+w*f+T*O,e[11]=D*i+_*u+w*p+T*b,D=n[12],_=n[13],w=n[14],T=n[15],e[12]=D*r+_*a+w*l+T*g,e[13]=D*o+_*c+w*h+T*E,e[14]=D*s+_*d+w*f+T*O,e[15]=D*i+_*u+w*p+T*b,e}function m(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function M(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var v=P;function R(){var e=new E(3);return E!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function S(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function A(e,t,n){var r=new E(3);return r[0]=e,r[1]=t,r[2]=n,r}function I(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function j(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function N(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function F(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function U(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function x(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function k(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function C(e,t){var n=t[0],r=t[1],o=t[2],s=n*n+r*r+o*o;return s>0&&(s=1/Math.sqrt(s)),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e}function L(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function H(e,t,n){var r=t[0],o=t[1],s=t[2],i=n[0],a=n[1],c=n[2];return e[0]=o*c-s*a,e[1]=s*i-r*c,e[2]=r*a-o*i,e}function X(e,t,n,r){var o=t[0],s=t[1],i=t[2];return e[0]=o+r*(n[0]-o),e[1]=s+r*(n[1]-s),e[2]=i+r*(n[2]-i),e}function Q(e,t,n){var r=t[0],o=t[1],s=t[2],i=n[3]*r+n[7]*o+n[11]*s+n[15];return i=i||1,e[0]=(n[0]*r+n[4]*o+n[8]*s+n[12])/i,e[1]=(n[1]*r+n[5]*o+n[9]*s+n[13])/i,e[2]=(n[2]*r+n[6]*o+n[10]*s+n[14])/i,e}function W(e,t,n){var r=t[0],o=t[1],s=t[2];return e[0]=r*n[0]+o*n[3]+s*n[6],e[1]=r*n[1]+o*n[4]+s*n[7],e[2]=r*n[2]+o*n[5]+s*n[8],e}function Y(e,t){var n=e[0],r=e[1],o=e[2],s=t[0],i=t[1],a=t[2];return Math.abs(n-s)<=1e-6*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-i)<=1e-6*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(o-a)<=1e-6*Math.max(1,Math.abs(o),Math.abs(a))}var B=F,G=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.hypot(n,r,o)},Z=S;function V(){var e=new E(2);return E!=Float32Array&&(e[0]=0,e[1]=0),e}function z(e,t){var n=new E(2);return n[0]=e,n[1]=t,n}function q(e,t){return e[0]=t[0],e[1]=t[1],e}function K(e,t,n){return e[0]=t,e[1]=n,e}function $(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function J(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function ee(e,t){return e[0]*t[0]+e[1]*t[1]}R();var te=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e};V();var ne,re,oe=(ne=function(e,t){var n,r=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var t,r;(e=void 0!==(e=e||{})?e:{}).ready=new Promise((function(e,n){t=e,r=n})),Object.getOwnPropertyDescriptor(e.ready,"_malloc")||(Object.defineProperty(e.ready,"_malloc",{configurable:!0,get:function(){N("You are getting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_malloc",{configurable:!0,set:function(){N("You are setting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_free")||(Object.defineProperty(e.ready,"_free",{configurable:!0,get:function(){N("You are getting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_free",{configurable:!0,set:function(){N("You are setting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_emscripten_stack_get_end")||(Object.defineProperty(e.ready,"_emscripten_stack_get_end",{configurable:!0,get:function(){N("You are getting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_emscripten_stack_get_end",{configurable:!0,set:function(){N("You are setting _emscripten_stack_get_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_emscripten_stack_get_free")||(Object.defineProperty(e.ready,"_emscripten_stack_get_free",{configurable:!0,get:function(){N("You are getting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_emscripten_stack_get_free",{configurable:!0,set:function(){N("You are setting _emscripten_stack_get_free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_emscripten_stack_init")||(Object.defineProperty(e.ready,"_emscripten_stack_init",{configurable:!0,get:function(){N("You are getting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_emscripten_stack_init",{configurable:!0,set:function(){N("You are setting _emscripten_stack_init on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_stackSave")||(Object.defineProperty(e.ready,"_stackSave",{configurable:!0,get:function(){N("You are getting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_stackSave",{configurable:!0,set:function(){N("You are setting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_stackRestore")||(Object.defineProperty(e.ready,"_stackRestore",{configurable:!0,get:function(){N("You are getting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_stackRestore",{configurable:!0,set:function(){N("You are setting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_stackAlloc")||(Object.defineProperty(e.ready,"_stackAlloc",{configurable:!0,get:function(){N("You are getting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_stackAlloc",{configurable:!0,set:function(){N("You are setting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"___wasm_call_ctors")||(Object.defineProperty(e.ready,"___wasm_call_ctors",{configurable:!0,get:function(){N("You are getting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"___wasm_call_ctors",{configurable:!0,set:function(){N("You are setting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_fflush")||(Object.defineProperty(e.ready,"_fflush",{configurable:!0,get:function(){N("You are getting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_fflush",{configurable:!0,set:function(){N("You are setting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"___errno_location")||(Object.defineProperty(e.ready,"___errno_location",{configurable:!0,get:function(){N("You are getting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"___errno_location",{configurable:!0,set:function(){N("You are setting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_getNurbsCurve2D")||(Object.defineProperty(e.ready,"_getNurbsCurve2D",{configurable:!0,get:function(){N("You are getting _getNurbsCurve2D on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_getNurbsCurve2D",{configurable:!0,set:function(){N("You are setting _getNurbsCurve2D on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_getNurbsCurve2DWithWeights")||(Object.defineProperty(e.ready,"_getNurbsCurve2DWithWeights",{configurable:!0,get:function(){N("You are getting _getNurbsCurve2DWithWeights on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_getNurbsCurve2DWithWeights",{configurable:!0,set:function(){N("You are setting _getNurbsCurve2DWithWeights on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_evalNurbsCurve2D")||(Object.defineProperty(e.ready,"_evalNurbsCurve2D",{configurable:!0,get:function(){N("You are getting _evalNurbsCurve2D on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_evalNurbsCurve2D",{configurable:!0,set:function(){N("You are setting _evalNurbsCurve2D on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_evalNurbsCurve2DWithWeights")||(Object.defineProperty(e.ready,"_evalNurbsCurve2DWithWeights",{configurable:!0,get:function(){N("You are getting _evalNurbsCurve2DWithWeights on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_evalNurbsCurve2DWithWeights",{configurable:!0,set:function(){N("You are setting _evalNurbsCurve2DWithWeights on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_projectNurbsCurve2D")||(Object.defineProperty(e.ready,"_projectNurbsCurve2D",{configurable:!0,get:function(){N("You are getting _projectNurbsCurve2D on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_projectNurbsCurve2D",{configurable:!0,set:function(){N("You are setting _projectNurbsCurve2D on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_disposeNurbsCurve2D")||(Object.defineProperty(e.ready,"_disposeNurbsCurve2D",{configurable:!0,get:function(){N("You are getting _disposeNurbsCurve2D on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_disposeNurbsCurve2D",{configurable:!0,set:function(){N("You are setting _disposeNurbsCurve2D on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_disposeNurbsCurve2DWithWeights")||(Object.defineProperty(e.ready,"_disposeNurbsCurve2DWithWeights",{configurable:!0,get:function(){N("You are getting _disposeNurbsCurve2DWithWeights on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_disposeNurbsCurve2DWithWeights",{configurable:!0,set:function(){N("You are setting _disposeNurbsCurve2DWithWeights on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_getNurbsCurve3D")||(Object.defineProperty(e.ready,"_getNurbsCurve3D",{configurable:!0,get:function(){N("You are getting _getNurbsCurve3D on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_getNurbsCurve3D",{configurable:!0,set:function(){N("You are setting _getNurbsCurve3D on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_getNurbsCurve3DWithWeights")||(Object.defineProperty(e.ready,"_getNurbsCurve3DWithWeights",{configurable:!0,get:function(){N("You are getting _getNurbsCurve3DWithWeights on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_getNurbsCurve3DWithWeights",{configurable:!0,set:function(){N("You are setting _getNurbsCurve3DWithWeights on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_evalNurbsCurve3D")||(Object.defineProperty(e.ready,"_evalNurbsCurve3D",{configurable:!0,get:function(){N("You are getting _evalNurbsCurve3D on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_evalNurbsCurve3D",{configurable:!0,set:function(){N("You are setting _evalNurbsCurve3D on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_invertNurbsCurve3D")||(Object.defineProperty(e.ready,"_invertNurbsCurve3D",{configurable:!0,get:function(){N("You are getting _invertNurbsCurve3D on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_invertNurbsCurve3D",{configurable:!0,set:function(){N("You are setting _invertNurbsCurve3D on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_evalNurbsCurve3DWithWeights")||(Object.defineProperty(e.ready,"_evalNurbsCurve3DWithWeights",{configurable:!0,get:function(){N("You are getting _evalNurbsCurve3DWithWeights on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_evalNurbsCurve3DWithWeights",{configurable:!0,set:function(){N("You are setting _evalNurbsCurve3DWithWeights on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_evalNurbsCurve3dBulk")||(Object.defineProperty(e.ready,"_evalNurbsCurve3dBulk",{configurable:!0,get:function(){N("You are getting _evalNurbsCurve3dBulk on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_evalNurbsCurve3dBulk",{configurable:!0,set:function(){N("You are setting _evalNurbsCurve3dBulk on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_disposeNurbsCurve3D")||(Object.defineProperty(e.ready,"_disposeNurbsCurve3D",{configurable:!0,get:function(){N("You are getting _disposeNurbsCurve3D on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_disposeNurbsCurve3D",{configurable:!0,set:function(){N("You are setting _disposeNurbsCurve3D on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_disposeNurbsCurve3DWithWeights")||(Object.defineProperty(e.ready,"_disposeNurbsCurve3DWithWeights",{configurable:!0,get:function(){N("You are getting _disposeNurbsCurve3DWithWeights on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_disposeNurbsCurve3DWithWeights",{configurable:!0,set:function(){N("You are setting _disposeNurbsCurve3DWithWeights on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_getNurbsSurface")||(Object.defineProperty(e.ready,"_getNurbsSurface",{configurable:!0,get:function(){N("You are getting _getNurbsSurface on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_getNurbsSurface",{configurable:!0,set:function(){N("You are setting _getNurbsSurface on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_getNurbsSurfaceWithWeights")||(Object.defineProperty(e.ready,"_getNurbsSurfaceWithWeights",{configurable:!0,get:function(){N("You are getting _getNurbsSurfaceWithWeights on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_getNurbsSurfaceWithWeights",{configurable:!0,set:function(){N("You are setting _getNurbsSurfaceWithWeights on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_evalNurbsSurface")||(Object.defineProperty(e.ready,"_evalNurbsSurface",{configurable:!0,get:function(){N("You are getting _evalNurbsSurface on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_evalNurbsSurface",{configurable:!0,set:function(){N("You are setting _evalNurbsSurface on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_evalNurbsSurfaceBulk")||(Object.defineProperty(e.ready,"_evalNurbsSurfaceBulk",{configurable:!0,get:function(){N("You are getting _evalNurbsSurfaceBulk on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_evalNurbsSurfaceBulk",{configurable:!0,set:function(){N("You are setting _evalNurbsSurfaceBulk on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"_invertSurface")||(Object.defineProperty(e.ready,"_invertSurface",{configurable:!0,get:function(){N("You are getting _invertSurface on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"_invertSurface",{configurable:!0,set:function(){N("You are setting _invertSurface on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"__Z19disposeNurbsSurfacePN10novo_nurbs7SurfaceIdEE")||(Object.defineProperty(e.ready,"__Z19disposeNurbsSurfacePN10novo_nurbs7SurfaceIdEE",{configurable:!0,get:function(){N("You are getting __Z19disposeNurbsSurfacePN10novo_nurbs7SurfaceIdEE on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"__Z19disposeNurbsSurfacePN10novo_nurbs7SurfaceIdEE",{configurable:!0,set:function(){N("You are setting __Z19disposeNurbsSurfacePN10novo_nurbs7SurfaceIdEE on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"__Z30disposeNurbsSurfaceWithWeightsPN10novo_nurbs15RationalSurfaceIdEE")||(Object.defineProperty(e.ready,"__Z30disposeNurbsSurfaceWithWeightsPN10novo_nurbs15RationalSurfaceIdEE",{configurable:!0,get:function(){N("You are getting __Z30disposeNurbsSurfaceWithWeightsPN10novo_nurbs15RationalSurfaceIdEE on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"__Z30disposeNurbsSurfaceWithWeightsPN10novo_nurbs15RationalSurfaceIdEE",{configurable:!0,set:function(){N("You are setting __Z30disposeNurbsSurfaceWithWeightsPN10novo_nurbs15RationalSurfaceIdEE on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(e.ready,"onRuntimeInitialized")||(Object.defineProperty(e.ready,"onRuntimeInitialized",{configurable:!0,get:function(){N("You are getting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(e.ready,"onRuntimeInitialized",{configurable:!0,set:function(){N("You are setting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}));var o,s={};for(o in e)e.hasOwnProperty(o)&&(s[o]=e[o]);if(e.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var i,a="";if(a=self.location.href,n&&(a=n),a=0!==a.indexOf("blob:")?a.substr(0,a.lastIndexOf("/")+1):"","object"!=typeof window&&"function"!=typeof importScripts)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");i=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)},e.print;var c,d,u=e.printErr||void 0;for(o in s)s.hasOwnProperty(o)&&(e[o]=s[o]);function l(e){l.shown||(l.shown={}),l.shown[e]||(l.shown[e]=1,u(e))}s=null,e.arguments,Object.getOwnPropertyDescriptor(e,"arguments")||Object.defineProperty(e,"arguments",{configurable:!0,get:function(){N("Module.arguments has been replaced with plain arguments_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),e.thisProgram,Object.getOwnPropertyDescriptor(e,"thisProgram")||Object.defineProperty(e,"thisProgram",{configurable:!0,get:function(){N("Module.thisProgram has been replaced with plain thisProgram (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),e.quit,Object.getOwnPropertyDescriptor(e,"quit")||Object.defineProperty(e,"quit",{configurable:!0,get:function(){N("Module.quit has been replaced with plain quit_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),f(void 0===e.memoryInitializerPrefixURL,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),f(void 0===e.pthreadMainPrefixURL,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),f(void 0===e.cdInitializerPrefixURL,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),f(void 0===e.filePackagePrefixURL,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),f(void 0===e.read,"Module.read option was removed (modify read_ in JS)"),f(void 0===e.readAsync,"Module.readAsync option was removed (modify readAsync in JS)"),f(void 0===e.readBinary,"Module.readBinary option was removed (modify readBinary in JS)"),f(void 0===e.setWindowTitle,"Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),f(void 0===e.TOTAL_MEMORY,"Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Object.getOwnPropertyDescriptor(e,"read")||Object.defineProperty(e,"read",{configurable:!0,get:function(){N("Module.read has been replaced with plain read_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(e,"readAsync")||Object.defineProperty(e,"readAsync",{configurable:!0,get:function(){N("Module.readAsync has been replaced with plain readAsync (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(e,"readBinary")||Object.defineProperty(e,"readBinary",{configurable:!0,get:function(){N("Module.readBinary has been replaced with plain readBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(e,"setWindowTitle")||Object.defineProperty(e,"setWindowTitle",{configurable:!0,get:function(){N("Module.setWindowTitle has been replaced with plain setWindowTitle (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),e.wasmBinary&&(c=e.wasmBinary),Object.getOwnPropertyDescriptor(e,"wasmBinary")||Object.defineProperty(e,"wasmBinary",{configurable:!0,get:function(){N("Module.wasmBinary has been replaced with plain wasmBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),e.noExitRuntime,Object.getOwnPropertyDescriptor(e,"noExitRuntime")||Object.defineProperty(e,"noExitRuntime",{configurable:!0,get:function(){N("Module.noExitRuntime has been replaced with plain noExitRuntime (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),"object"!=typeof WebAssembly&&N("no native wasm support detected");var h=!1;function f(e,t){e||N("Assertion failed: "+t)}var p,g,E,O,b="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function D(e,t){return e?function(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.subarray&&b)return b.decode(e.subarray(t,o));for(var s="";t<o;){var i=e[t++];if(128&i){var a=63&e[t++];if(192!=(224&i)){var c=63&e[t++];if(224==(240&i)?i=(15&i)<<12|a<<6|c:(240!=(248&i)&&l("Invalid UTF-8 leading byte 0x"+i.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),i=(7&i)<<18|a<<12|c<<6|63&e[t++]),i<65536)s+=String.fromCharCode(i);else{var d=i-65536;s+=String.fromCharCode(55296|d>>10,56320|1023&d)}}else s+=String.fromCharCode((31&i)<<6|a)}else s+=String.fromCharCode(i)}return s}(g,e,t):""}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var _=5242880;e.TOTAL_STACK&&f(_===e.TOTAL_STACK,"the stack size can no longer be determined at runtime");var w,T=e.INITIAL_MEMORY||16777216;function y(){var e=B();f(0==(3&e)),O[1+(e>>2)]=34821223,O[2+(e>>2)]=2310721022,E[0]=1668509029}function P(){if(!h){var e=B(),t=O[1+(e>>2)],n=O[2+(e>>2)];34821223==t&&2310721022==n||N("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+n.toString(16)+" "+t.toString(16)),1668509029!==E[0]&&N("Runtime error: The application has corrupted its heap memory area (address zero)!")}}Object.getOwnPropertyDescriptor(e,"INITIAL_MEMORY")||Object.defineProperty(e,"INITIAL_MEMORY",{configurable:!0,get:function(){N("Module.INITIAL_MEMORY has been replaced with plain INITIAL_MEMORY (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),f(T>=_,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+T+"! (TOTAL_STACK=5242880)"),f("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&void 0!==Int32Array.prototype.subarray&&void 0!==Int32Array.prototype.set,"JS engine does not provide full typed array support"),f(!e.wasmMemory,"Use of `wasmMemory` detected.  Use -s IMPORTED_MEMORY to define wasmMemory externally"),f(16777216==T,"Detected runtime INITIAL_MEMORY setting.  Use -s IMPORTED_MEMORY to define wasmMemory dynamically"),function(){var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,115!==t[0]||99!==t[1])throw"Runtime error: expected the system to be little-endian! (Run with -s SUPPORT_BIG_ENDIAN=1 to bypass)"}();var m=[],M=[],v=[],R=!1;f(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),f(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),f(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),f(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var S=0,A=null,I=null,j={};function N(t){e.onAbort&&e.onAbort(t),u(t+=""),h=!0;var n,o,s="abort("+t+") at "+(o=function(){var e=new Error;if(!e.stack){try{throw new Error}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}(),e.extraStackTrace&&(o+="\n"+e.extraStackTrace()),n=/\b_Z[\w\d_]+/g,o.replace(n,(function(e){var t,n=(t=e,l("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),t);return e===n?e:n+" ["+e+"]"})));t=s;var i=new WebAssembly.RuntimeError(t);throw r(i),i}e.preloadedImages={},e.preloadedAudios={};var F,U,x={error:function(){N("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with  -s FORCE_FILESYSTEM=1")},init:function(){x.error()},createDataFile:function(){x.error()},createPreloadedFile:function(){x.error()},createLazyFile:function(){x.error()},open:function(){x.error()},mkdev:function(){x.error()},registerDevice:function(){x.error()},analyzePath:function(){x.error()},loadFilesFromDB:function(){x.error()},ErrnoError:function(){x.error()}};function k(e){return e.startsWith("data:application/octet-stream;base64,")}function C(t,n){return function(){var r=t,o=n;return n||(o=e.asm),f(R,"native function `"+r+"` called before runtime initialization"),f(!0,"native function `"+r+"` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),o[t]||f(o[t],"exported native function `"+r+"` not found"),o[t].apply(null,arguments)}}function L(e){try{if(e==F&&c)return new Uint8Array(c);if(i)return i(e);throw"both async and sync fetching of the wasm failed"}catch(e){N(e)}}function H(t){for(;t.length>0;){var n=t.shift();if("function"!=typeof n){var r=n.func;"number"==typeof r?void 0===n.arg?w.get(r)():w.get(r)(n.arg):r(void 0===n.arg?null:n.arg)}else n(e)}}e.FS_createDataFile=x.createDataFile,e.FS_createPreloadedFile=x.createPreloadedFile,k(F="nurbs.wasm")||(U=F,F=e.locateFile?e.locateFile(U,a):a+U);function X(e){this.excPtr=e,this.ptr=e-16,this.set_type=function(e){E[this.ptr+8>>2]=e},this.get_type=function(){return E[this.ptr+8>>2]},this.set_destructor=function(e){E[this.ptr+0>>2]=e},this.get_destructor=function(){return E[this.ptr+0>>2]},this.set_refcount=function(e){E[this.ptr+4>>2]=e},this.set_caught=function(e){e=e?1:0,p[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=p[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,p[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=p[this.ptr+13>>0]},this.init=function(e,t){this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=E[this.ptr+4>>2];E[this.ptr+4>>2]=e+1},this.release_ref=function(){var e=E[this.ptr+4>>2];return E[this.ptr+4>>2]=e-1,f(e>0),1===e}}var Q={__assert_fail:function(e,t,n,r){N("Assertion failed: "+D(e)+", at: "+[t?D(t):"unknown filename",n,r?D(r):"unknown function"])},__cxa_allocate_exception:function(e){return G(e+16)+16},__cxa_throw:function(e,t,n){throw new X(e).init(t,n),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."},abort:function(){N()},emscripten_memcpy_big:function(e,t,n){g.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){g.length,function(e){N("Cannot enlarge memory arrays to size "+e+" bytes (OOM). Either (1) compile with  -s INITIAL_MEMORY=X  with X higher than the current value "+p.length+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}(e>>>=0)}};!function(){var t,n={env:Q,wasi_snapshot_preview1:Q};function o(t,n){var r,o,s=t.exports;e.asm=s,f(d=e.asm.memory,"memory not found in wasm exports"),r=d.buffer,e.HEAP8=p=new Int8Array(r),e.HEAP16=new Int16Array(r),e.HEAP32=E=new Int32Array(r),e.HEAPU8=g=new Uint8Array(r),e.HEAPU16=new Uint16Array(r),e.HEAPU32=O=new Uint32Array(r),e.HEAPF32=new Float32Array(r),e.HEAPF64=new Float64Array(r),f(w=e.asm.__indirect_function_table,"table not found in wasm exports"),o=e.asm.__wasm_call_ctors,M.unshift(o),function(t){if(S--,e.monitorRunDependencies&&e.monitorRunDependencies(S),f(j[t]),delete j[t],0==S&&(null!==A&&(clearInterval(A),A=null),I)){var n=I;I=null,n()}}("wasm-instantiate")}t="wasm-instantiate",S++,e.monitorRunDependencies&&e.monitorRunDependencies(S),f(!j[t]),j[t]=1,null===A&&"undefined"!=typeof setInterval&&(A=setInterval((function(){if(h)return clearInterval(A),void(A=null);var e=!1;for(var t in j)e||(e=!0,u("still waiting on run dependencies:")),u("dependency: "+t);e&&u("(end of list)")}),1e4));var s=e;function i(t){f(e===s,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),s=null,o(t.instance)}function a(e){return(c||"function"!=typeof fetch?Promise.resolve().then((function(){return L(F)})):fetch(F,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+F+"'";return e.arrayBuffer()})).catch((function(){return L(F)}))).then((function(e){return WebAssembly.instantiate(e,n)})).then(e,(function(e){u("failed to asynchronously prepare wasm: "+e),F.startsWith("file://")&&u("warning: Loading from a file URI ("+F+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing"),N(e)}))}if(e.instantiateWasm)try{return e.instantiateWasm(n,o)}catch(e){return u("Module.instantiateWasm callback failed with error: "+e),!1}(c||"function"!=typeof WebAssembly.instantiateStreaming||k(F)||"function"!=typeof fetch?a(i):fetch(F,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,n).then(i,(function(e){return u("wasm streaming compile failed: "+e),u("falling back to ArrayBuffer instantiation"),a(i)}))}))).catch(r)}(),e.___wasm_call_ctors=C("__wasm_call_ctors"),e._getNurbsCurve2D=C("getNurbsCurve2D"),e._getNurbsCurve2DWithWeights=C("getNurbsCurve2DWithWeights"),e._evalNurbsCurve2D=C("evalNurbsCurve2D"),e._evalNurbsCurve2DWithWeights=C("evalNurbsCurve2DWithWeights"),e._projectNurbsCurve2D=C("projectNurbsCurve2D"),e._disposeNurbsCurve2D=C("disposeNurbsCurve2D"),e._disposeNurbsCurve2DWithWeights=C("disposeNurbsCurve2DWithWeights"),e._getNurbsCurve3D=C("getNurbsCurve3D"),e._getNurbsCurve3DWithWeights=C("getNurbsCurve3DWithWeights"),e._evalNurbsCurve3D=C("evalNurbsCurve3D"),e._invertNurbsCurve3D=C("invertNurbsCurve3D"),e._evalNurbsCurve3DWithWeights=C("evalNurbsCurve3DWithWeights"),e._evalNurbsCurve3dBulk=C("evalNurbsCurve3dBulk"),e._disposeNurbsCurve3D=C("disposeNurbsCurve3D"),e._disposeNurbsCurve3DWithWeights=C("disposeNurbsCurve3DWithWeights"),e._getNurbsSurface=C("getNurbsSurface"),e._getNurbsSurfaceWithWeights=C("getNurbsSurfaceWithWeights"),e._evalNurbsSurface=C("evalNurbsSurface"),e._evalNurbsSurfaceBulk=C("evalNurbsSurfaceBulk"),e._invertSurface=C("invertSurface"),e.__Z19disposeNurbsSurfacePN10novo_nurbs7SurfaceIdEE=C("_Z19disposeNurbsSurfacePN10novo_nurbs7SurfaceIdEE"),e.__Z30disposeNurbsSurfaceWithWeightsPN10novo_nurbs15RationalSurfaceIdEE=C("_Z30disposeNurbsSurfaceWithWeightsPN10novo_nurbs15RationalSurfaceIdEE"),e.___errno_location=C("__errno_location"),e._fflush=C("fflush"),e.stackSave=C("stackSave"),e.stackRestore=C("stackRestore"),e.stackAlloc=C("stackAlloc");var W=e._emscripten_stack_init=function(){return(W=e._emscripten_stack_init=e.asm.emscripten_stack_init).apply(null,arguments)};e._emscripten_stack_get_free=function(){return(e._emscripten_stack_get_free=e.asm.emscripten_stack_get_free).apply(null,arguments)};var Y,B=e._emscripten_stack_get_end=function(){return(B=e._emscripten_stack_get_end=e.asm.emscripten_stack_get_end).apply(null,arguments)},G=e._malloc=C("malloc");function Z(n){function r(){Y||(Y=!0,e.calledRun=!0,h||(P(),f(!R),R=!0,H(M),t(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),f(!e._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),function(){if(P(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)t=e.postRun.shift(),v.unshift(t);var t;H(v)}()))}S>0||(W(),y(),function(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)t=e.preRun.shift(),m.unshift(t);var t;H(m)}(),S>0||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),r()}),1)):r(),P()))}if(e._free=C("free"),Object.getOwnPropertyDescriptor(e,"intArrayFromString")||(e.intArrayFromString=function(){N("'intArrayFromString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"intArrayToString")||(e.intArrayToString=function(){N("'intArrayToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"ccall")||(e.ccall=function(){N("'ccall' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"cwrap")||(e.cwrap=function(){N("'cwrap' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"setValue")||(e.setValue=function(){N("'setValue' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"getValue")||(e.getValue=function(){N("'getValue' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"allocate")||(e.allocate=function(){N("'allocate' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"UTF8ArrayToString")||(e.UTF8ArrayToString=function(){N("'UTF8ArrayToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"UTF8ToString")||(e.UTF8ToString=function(){N("'UTF8ToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"stringToUTF8Array")||(e.stringToUTF8Array=function(){N("'stringToUTF8Array' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"stringToUTF8")||(e.stringToUTF8=function(){N("'stringToUTF8' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"lengthBytesUTF8")||(e.lengthBytesUTF8=function(){N("'lengthBytesUTF8' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"stackTrace")||(e.stackTrace=function(){N("'stackTrace' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"addOnPreRun")||(e.addOnPreRun=function(){N("'addOnPreRun' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"addOnInit")||(e.addOnInit=function(){N("'addOnInit' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"addOnPreMain")||(e.addOnPreMain=function(){N("'addOnPreMain' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"addOnExit")||(e.addOnExit=function(){N("'addOnExit' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"addOnPostRun")||(e.addOnPostRun=function(){N("'addOnPostRun' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"writeStringToMemory")||(e.writeStringToMemory=function(){N("'writeStringToMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"writeArrayToMemory")||(e.writeArrayToMemory=function(){N("'writeArrayToMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"writeAsciiToMemory")||(e.writeAsciiToMemory=function(){N("'writeAsciiToMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"addRunDependency")||(e.addRunDependency=function(){N("'addRunDependency' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(e,"removeRunDependency")||(e.removeRunDependency=function(){N("'removeRunDependency' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(e,"FS_createFolder")||(e.FS_createFolder=function(){N("'FS_createFolder' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"FS_createPath")||(e.FS_createPath=function(){N("'FS_createPath' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(e,"FS_createDataFile")||(e.FS_createDataFile=function(){N("'FS_createDataFile' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(e,"FS_createPreloadedFile")||(e.FS_createPreloadedFile=function(){N("'FS_createPreloadedFile' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(e,"FS_createLazyFile")||(e.FS_createLazyFile=function(){N("'FS_createLazyFile' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(e,"FS_createLink")||(e.FS_createLink=function(){N("'FS_createLink' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"FS_createDevice")||(e.FS_createDevice=function(){N("'FS_createDevice' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(e,"FS_unlink")||(e.FS_unlink=function(){N("'FS_unlink' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(e,"getLEB")||(e.getLEB=function(){N("'getLEB' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"getFunctionTables")||(e.getFunctionTables=function(){N("'getFunctionTables' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"alignFunctionTables")||(e.alignFunctionTables=function(){N("'alignFunctionTables' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"registerFunctions")||(e.registerFunctions=function(){N("'registerFunctions' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"addFunction")||(e.addFunction=function(){N("'addFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"removeFunction")||(e.removeFunction=function(){N("'removeFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"getFuncWrapper")||(e.getFuncWrapper=function(){N("'getFuncWrapper' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"prettyPrint")||(e.prettyPrint=function(){N("'prettyPrint' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"dynCall")||(e.dynCall=function(){N("'dynCall' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"getCompilerSetting")||(e.getCompilerSetting=function(){N("'getCompilerSetting' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"print")||(e.print=function(){N("'print' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"printErr")||(e.printErr=function(){N("'printErr' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"getTempRet0")||(e.getTempRet0=function(){N("'getTempRet0' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"setTempRet0")||(e.setTempRet0=function(){N("'setTempRet0' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"callMain")||(e.callMain=function(){N("'callMain' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"abort")||(e.abort=function(){N("'abort' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"stringToNewUTF8")||(e.stringToNewUTF8=function(){N("'stringToNewUTF8' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"setFileTime")||(e.setFileTime=function(){N("'setFileTime' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"abortOnCannotGrowMemory")||(e.abortOnCannotGrowMemory=function(){N("'abortOnCannotGrowMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"emscripten_realloc_buffer")||(e.emscripten_realloc_buffer=function(){N("'emscripten_realloc_buffer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"ENV")||(e.ENV=function(){N("'ENV' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"ERRNO_CODES")||(e.ERRNO_CODES=function(){N("'ERRNO_CODES' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"ERRNO_MESSAGES")||(e.ERRNO_MESSAGES=function(){N("'ERRNO_MESSAGES' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"setErrNo")||(e.setErrNo=function(){N("'setErrNo' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"inetPton4")||(e.inetPton4=function(){N("'inetPton4' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"inetNtop4")||(e.inetNtop4=function(){N("'inetNtop4' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"inetPton6")||(e.inetPton6=function(){N("'inetPton6' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"inetNtop6")||(e.inetNtop6=function(){N("'inetNtop6' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"readSockaddr")||(e.readSockaddr=function(){N("'readSockaddr' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"writeSockaddr")||(e.writeSockaddr=function(){N("'writeSockaddr' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"DNS")||(e.DNS=function(){N("'DNS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"getHostByName")||(e.getHostByName=function(){N("'getHostByName' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"GAI_ERRNO_MESSAGES")||(e.GAI_ERRNO_MESSAGES=function(){N("'GAI_ERRNO_MESSAGES' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"Protocols")||(e.Protocols=function(){N("'Protocols' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"Sockets")||(e.Sockets=function(){N("'Sockets' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"getRandomDevice")||(e.getRandomDevice=function(){N("'getRandomDevice' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"traverseStack")||(e.traverseStack=function(){N("'traverseStack' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"UNWIND_CACHE")||(e.UNWIND_CACHE=function(){N("'UNWIND_CACHE' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"withBuiltinMalloc")||(e.withBuiltinMalloc=function(){N("'withBuiltinMalloc' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"readAsmConstArgsArray")||(e.readAsmConstArgsArray=function(){N("'readAsmConstArgsArray' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"readAsmConstArgs")||(e.readAsmConstArgs=function(){N("'readAsmConstArgs' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"mainThreadEM_ASM")||(e.mainThreadEM_ASM=function(){N("'mainThreadEM_ASM' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"jstoi_q")||(e.jstoi_q=function(){N("'jstoi_q' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"jstoi_s")||(e.jstoi_s=function(){N("'jstoi_s' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"getExecutableName")||(e.getExecutableName=function(){N("'getExecutableName' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"listenOnce")||(e.listenOnce=function(){N("'listenOnce' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"autoResumeAudioContext")||(e.autoResumeAudioContext=function(){N("'autoResumeAudioContext' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"dynCallLegacy")||(e.dynCallLegacy=function(){N("'dynCallLegacy' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"getDynCaller")||(e.getDynCaller=function(){N("'getDynCaller' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"dynCall")||(e.dynCall=function(){N("'dynCall' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"callRuntimeCallbacks")||(e.callRuntimeCallbacks=function(){N("'callRuntimeCallbacks' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"runtimeKeepaliveCounter")||(e.runtimeKeepaliveCounter=function(){N("'runtimeKeepaliveCounter' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"keepRuntimeAlive")||(e.keepRuntimeAlive=function(){N("'keepRuntimeAlive' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"runtimeKeepalivePush")||(e.runtimeKeepalivePush=function(){N("'runtimeKeepalivePush' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"runtimeKeepalivePop")||(e.runtimeKeepalivePop=function(){N("'runtimeKeepalivePop' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"callUserCallback")||(e.callUserCallback=function(){N("'callUserCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"maybeExit")||(e.maybeExit=function(){N("'maybeExit' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"asmjsMangle")||(e.asmjsMangle=function(){N("'asmjsMangle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"reallyNegative")||(e.reallyNegative=function(){N("'reallyNegative' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"unSign")||(e.unSign=function(){N("'unSign' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"reSign")||(e.reSign=function(){N("'reSign' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"formatString")||(e.formatString=function(){N("'formatString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"PATH")||(e.PATH=function(){N("'PATH' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"PATH_FS")||(e.PATH_FS=function(){N("'PATH_FS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"SYSCALLS")||(e.SYSCALLS=function(){N("'SYSCALLS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"syscallMmap2")||(e.syscallMmap2=function(){N("'syscallMmap2' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"syscallMunmap")||(e.syscallMunmap=function(){N("'syscallMunmap' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"getSocketFromFD")||(e.getSocketFromFD=function(){N("'getSocketFromFD' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"getSocketAddress")||(e.getSocketAddress=function(){N("'getSocketAddress' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"JSEvents")||(e.JSEvents=function(){N("'JSEvents' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"registerKeyEventCallback")||(e.registerKeyEventCallback=function(){N("'registerKeyEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"specialHTMLTargets")||(e.specialHTMLTargets=function(){N("'specialHTMLTargets' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"maybeCStringToJsString")||(e.maybeCStringToJsString=function(){N("'maybeCStringToJsString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"findEventTarget")||(e.findEventTarget=function(){N("'findEventTarget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"findCanvasEventTarget")||(e.findCanvasEventTarget=function(){N("'findCanvasEventTarget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"getBoundingClientRect")||(e.getBoundingClientRect=function(){N("'getBoundingClientRect' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"fillMouseEventData")||(e.fillMouseEventData=function(){N("'fillMouseEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"registerMouseEventCallback")||(e.registerMouseEventCallback=function(){N("'registerMouseEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"registerWheelEventCallback")||(e.registerWheelEventCallback=function(){N("'registerWheelEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"registerUiEventCallback")||(e.registerUiEventCallback=function(){N("'registerUiEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"registerFocusEventCallback")||(e.registerFocusEventCallback=function(){N("'registerFocusEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"fillDeviceOrientationEventData")||(e.fillDeviceOrientationEventData=function(){N("'fillDeviceOrientationEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"registerDeviceOrientationEventCallback")||(e.registerDeviceOrientationEventCallback=function(){N("'registerDeviceOrientationEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"fillDeviceMotionEventData")||(e.fillDeviceMotionEventData=function(){N("'fillDeviceMotionEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"registerDeviceMotionEventCallback")||(e.registerDeviceMotionEventCallback=function(){N("'registerDeviceMotionEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"screenOrientation")||(e.screenOrientation=function(){N("'screenOrientation' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"fillOrientationChangeEventData")||(e.fillOrientationChangeEventData=function(){N("'fillOrientationChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"registerOrientationChangeEventCallback")||(e.registerOrientationChangeEventCallback=function(){N("'registerOrientationChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"fillFullscreenChangeEventData")||(e.fillFullscreenChangeEventData=function(){N("'fillFullscreenChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"registerFullscreenChangeEventCallback")||(e.registerFullscreenChangeEventCallback=function(){N("'registerFullscreenChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"registerRestoreOldStyle")||(e.registerRestoreOldStyle=function(){N("'registerRestoreOldStyle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"hideEverythingExceptGivenElement")||(e.hideEverythingExceptGivenElement=function(){N("'hideEverythingExceptGivenElement' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"restoreHiddenElements")||(e.restoreHiddenElements=function(){N("'restoreHiddenElements' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"setLetterbox")||(e.setLetterbox=function(){N("'setLetterbox' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"currentFullscreenStrategy")||(e.currentFullscreenStrategy=function(){N("'currentFullscreenStrategy' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"restoreOldWindowedStyle")||(e.restoreOldWindowedStyle=function(){N("'restoreOldWindowedStyle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"softFullscreenResizeWebGLRenderTarget")||(e.softFullscreenResizeWebGLRenderTarget=function(){N("'softFullscreenResizeWebGLRenderTarget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"doRequestFullscreen")||(e.doRequestFullscreen=function(){N("'doRequestFullscreen' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"fillPointerlockChangeEventData")||(e.fillPointerlockChangeEventData=function(){N("'fillPointerlockChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"registerPointerlockChangeEventCallback")||(e.registerPointerlockChangeEventCallback=function(){N("'registerPointerlockChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"registerPointerlockErrorEventCallback")||(e.registerPointerlockErrorEventCallback=function(){N("'registerPointerlockErrorEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"requestPointerLock")||(e.requestPointerLock=function(){N("'requestPointerLock' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"fillVisibilityChangeEventData")||(e.fillVisibilityChangeEventData=function(){N("'fillVisibilityChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"registerVisibilityChangeEventCallback")||(e.registerVisibilityChangeEventCallback=function(){N("'registerVisibilityChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"registerTouchEventCallback")||(e.registerTouchEventCallback=function(){N("'registerTouchEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"fillGamepadEventData")||(e.fillGamepadEventData=function(){N("'fillGamepadEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"registerGamepadEventCallback")||(e.registerGamepadEventCallback=function(){N("'registerGamepadEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"registerBeforeUnloadEventCallback")||(e.registerBeforeUnloadEventCallback=function(){N("'registerBeforeUnloadEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"fillBatteryEventData")||(e.fillBatteryEventData=function(){N("'fillBatteryEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"battery")||(e.battery=function(){N("'battery' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"registerBatteryEventCallback")||(e.registerBatteryEventCallback=function(){N("'registerBatteryEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"setCanvasElementSize")||(e.setCanvasElementSize=function(){N("'setCanvasElementSize' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"getCanvasElementSize")||(e.getCanvasElementSize=function(){N("'getCanvasElementSize' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"polyfillSetImmediate")||(e.polyfillSetImmediate=function(){N("'polyfillSetImmediate' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"demangle")||(e.demangle=function(){N("'demangle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"demangleAll")||(e.demangleAll=function(){N("'demangleAll' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"jsStackTrace")||(e.jsStackTrace=function(){N("'jsStackTrace' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"stackTrace")||(e.stackTrace=function(){N("'stackTrace' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"getEnvStrings")||(e.getEnvStrings=function(){N("'getEnvStrings' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"checkWasiClock")||(e.checkWasiClock=function(){N("'checkWasiClock' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"flush_NO_FILESYSTEM")||(e.flush_NO_FILESYSTEM=function(){N("'flush_NO_FILESYSTEM' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"writeI53ToI64")||(e.writeI53ToI64=function(){N("'writeI53ToI64' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"writeI53ToI64Clamped")||(e.writeI53ToI64Clamped=function(){N("'writeI53ToI64Clamped' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"writeI53ToI64Signaling")||(e.writeI53ToI64Signaling=function(){N("'writeI53ToI64Signaling' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"writeI53ToU64Clamped")||(e.writeI53ToU64Clamped=function(){N("'writeI53ToU64Clamped' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"writeI53ToU64Signaling")||(e.writeI53ToU64Signaling=function(){N("'writeI53ToU64Signaling' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"readI53FromI64")||(e.readI53FromI64=function(){N("'readI53FromI64' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"readI53FromU64")||(e.readI53FromU64=function(){N("'readI53FromU64' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"convertI32PairToI53")||(e.convertI32PairToI53=function(){N("'convertI32PairToI53' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"convertU32PairToI53")||(e.convertU32PairToI53=function(){N("'convertU32PairToI53' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"uncaughtExceptionCount")||(e.uncaughtExceptionCount=function(){N("'uncaughtExceptionCount' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"exceptionLast")||(e.exceptionLast=function(){N("'exceptionLast' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"exceptionCaught")||(e.exceptionCaught=function(){N("'exceptionCaught' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"ExceptionInfoAttrs")||(e.ExceptionInfoAttrs=function(){N("'ExceptionInfoAttrs' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"ExceptionInfo")||(e.ExceptionInfo=function(){N("'ExceptionInfo' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"CatchInfo")||(e.CatchInfo=function(){N("'CatchInfo' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"exception_addRef")||(e.exception_addRef=function(){N("'exception_addRef' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"exception_decRef")||(e.exception_decRef=function(){N("'exception_decRef' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"Browser")||(e.Browser=function(){N("'Browser' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"funcWrappers")||(e.funcWrappers=function(){N("'funcWrappers' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"getFuncWrapper")||(e.getFuncWrapper=function(){N("'getFuncWrapper' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"setMainLoop")||(e.setMainLoop=function(){N("'setMainLoop' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"FS")||(e.FS=function(){N("'FS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"mmapAlloc")||(e.mmapAlloc=function(){N("'mmapAlloc' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"MEMFS")||(e.MEMFS=function(){N("'MEMFS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"TTY")||(e.TTY=function(){N("'TTY' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"PIPEFS")||(e.PIPEFS=function(){N("'PIPEFS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"SOCKFS")||(e.SOCKFS=function(){N("'SOCKFS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"_setNetworkCallback")||(e._setNetworkCallback=function(){N("'_setNetworkCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"tempFixedLengthArray")||(e.tempFixedLengthArray=function(){N("'tempFixedLengthArray' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"miniTempWebGLFloatBuffers")||(e.miniTempWebGLFloatBuffers=function(){N("'miniTempWebGLFloatBuffers' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"heapObjectForWebGLType")||(e.heapObjectForWebGLType=function(){N("'heapObjectForWebGLType' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"heapAccessShiftForWebGLHeap")||(e.heapAccessShiftForWebGLHeap=function(){N("'heapAccessShiftForWebGLHeap' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"GL")||(e.GL=function(){N("'GL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"emscriptenWebGLGet")||(e.emscriptenWebGLGet=function(){N("'emscriptenWebGLGet' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"computeUnpackAlignedImageSize")||(e.computeUnpackAlignedImageSize=function(){N("'computeUnpackAlignedImageSize' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"emscriptenWebGLGetTexPixelData")||(e.emscriptenWebGLGetTexPixelData=function(){N("'emscriptenWebGLGetTexPixelData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"emscriptenWebGLGetUniform")||(e.emscriptenWebGLGetUniform=function(){N("'emscriptenWebGLGetUniform' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"webglGetUniformLocation")||(e.webglGetUniformLocation=function(){N("'webglGetUniformLocation' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"webglPrepareUniformLocationsBeforeFirstUse")||(e.webglPrepareUniformLocationsBeforeFirstUse=function(){N("'webglPrepareUniformLocationsBeforeFirstUse' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"webglGetLeftBracePos")||(e.webglGetLeftBracePos=function(){N("'webglGetLeftBracePos' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"emscriptenWebGLGetVertexAttrib")||(e.emscriptenWebGLGetVertexAttrib=function(){N("'emscriptenWebGLGetVertexAttrib' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"writeGLArray")||(e.writeGLArray=function(){N("'writeGLArray' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"AL")||(e.AL=function(){N("'AL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"SDL_unicode")||(e.SDL_unicode=function(){N("'SDL_unicode' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"SDL_ttfContext")||(e.SDL_ttfContext=function(){N("'SDL_ttfContext' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"SDL_audio")||(e.SDL_audio=function(){N("'SDL_audio' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"SDL")||(e.SDL=function(){N("'SDL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"SDL_gfx")||(e.SDL_gfx=function(){N("'SDL_gfx' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"GLUT")||(e.GLUT=function(){N("'GLUT' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"EGL")||(e.EGL=function(){N("'EGL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"GLFW_Window")||(e.GLFW_Window=function(){N("'GLFW_Window' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"GLFW")||(e.GLFW=function(){N("'GLFW' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"GLEW")||(e.GLEW=function(){N("'GLEW' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"IDBStore")||(e.IDBStore=function(){N("'IDBStore' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"runAndAbortIfError")||(e.runAndAbortIfError=function(){N("'runAndAbortIfError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"warnOnce")||(e.warnOnce=function(){N("'warnOnce' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"stackSave")||(e.stackSave=function(){N("'stackSave' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"stackRestore")||(e.stackRestore=function(){N("'stackRestore' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"stackAlloc")||(e.stackAlloc=function(){N("'stackAlloc' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"AsciiToString")||(e.AsciiToString=function(){N("'AsciiToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"stringToAscii")||(e.stringToAscii=function(){N("'stringToAscii' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"UTF16ToString")||(e.UTF16ToString=function(){N("'UTF16ToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"stringToUTF16")||(e.stringToUTF16=function(){N("'stringToUTF16' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"lengthBytesUTF16")||(e.lengthBytesUTF16=function(){N("'lengthBytesUTF16' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"UTF32ToString")||(e.UTF32ToString=function(){N("'UTF32ToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"stringToUTF32")||(e.stringToUTF32=function(){N("'stringToUTF32' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"lengthBytesUTF32")||(e.lengthBytesUTF32=function(){N("'lengthBytesUTF32' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"allocateUTF8")||(e.allocateUTF8=function(){N("'allocateUTF8' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(e,"allocateUTF8OnStack")||(e.allocateUTF8OnStack=function(){N("'allocateUTF8OnStack' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),e.writeStackCookie=y,e.checkStackCookie=P,Object.getOwnPropertyDescriptor(e,"ALLOC_NORMAL")||Object.defineProperty(e,"ALLOC_NORMAL",{configurable:!0,get:function(){N("'ALLOC_NORMAL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(e,"ALLOC_STACK")||Object.defineProperty(e,"ALLOC_STACK",{configurable:!0,get:function(){N("'ALLOC_STACK' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),I=function e(){Y||Z(),Y||(I=e)},e.run=Z,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return Z(),e.ready});e.exports=r},ne(re={path:undefined,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&re.path)}},re.exports),re.exports);function se(e,t,n,r,o){const s=o-1;var i=e._malloc(8*t.length),a=new Float64Array(e.HEAPF64.buffer,i,t.length);a.set(t);var c=e._malloc(16*n.length),d=new Float64Array(e.HEAPF64.buffer,c,2*n.length),u=new Float64Array(2*n.length);n.forEach(((e,t)=>{u[2*t]=e[0],u[2*t+1]=e[1]})),d.set(u);var l=void 0;if(null!=r&&r.length>0){var h=e._malloc(8*r.length),f=new Float64Array(e.HEAPF64.buffer,h,r.length);f.set(r),l=e._getNurbsCurve2DWithWeights(s,n.length,a.byteOffset,d.byteOffset,f.byteOffset),e._free(f.byteOffset)}else l=e._getNurbsCurve2D(s,n.length,a.byteOffset,d.byteOffset,0);return e._free(a.byteOffset),e._free(d.byteOffset),l}function ie(e,t,n,r,o,s,i,a){const c=i-1,d=a-1;var u=e._malloc(8*t.length),l=new Float64Array(e.HEAPF64.buffer,u,t.length);l.set(t);var h=e._malloc(24*o.length),f=new Float64Array(e.HEAPF64.buffer,h,3*o.length),p=new Float64Array(3*o.length);o.forEach(((e,t)=>{p[3*t]=e[0],p[3*t+1]=e[1],p[3*t+2]=e[2]})),f.set(p);var g=void 0;if(null!=s&&s.length>0){var E=e._malloc(8*s.length),O=new Float64Array(e.HEAPF64.buffer,E,s.length);O.set(s),g=e._getNurbsSurfaceWithWeights(c,d,n,r,l.byteOffset,f.byteOffset,O.byteOffset),e._free(O.byteOffset)}else g=e._getNurbsSurface(c,d,n,r,l.byteOffset,f.byteOffset,0);return e._free(l.byteOffset),e._free(f.byteOffset),g}function ae(e){const t=e[1];e[1]=e[2],e[2]=-t}function ce(e){const t=e[1];e[1]=-e[2],e[2]=t}function de(e,t,n,r){const o=B(R(),n,t),s=L(o,B(R(),e,t))/L(o,o);return r&&X(r,t,n,s),s<0?{pos:t,parameter:0}:s>1?{pos:n,parameter:1}:{pos:X(R(),t,n,s),parameter:s}}O(Array);class ue{baseUrl;activeDownloads=0;abortController=new AbortController;static downloadImageFallback;constructor(e){this.baseUrl=e}abort(){this.abortController.abort(),this.abortController=new AbortController}async request(e,t){const n=new URL(e,this.baseUrl);n.search||(n.search=this.baseUrl?.search??"");const r=(t??this.abortController).signal,o=await fetch(n.toString(),{mode:"cors",signal:r});if(!o.ok)throw new Error(`HTTP Error: ${o.status}: ${o.statusText}`);return o}async downloadJson(e,t){try{this.activeDownloads++;const n=await this.request(e,t);return await n.json()}finally{this.activeDownloads--}}async downloadArrayBuffer(e,t){try{this.activeDownloads++;const n=await this.request(e,t);return await n.arrayBuffer()}finally{this.activeDownloads--}}async downloadBlob(e,t){try{this.activeDownloads++;const n=await this.request(e,t);return await n.blob()}finally{this.activeDownloads--}}async downloadImage(e,t){try{if(this.activeDownloads++,ue.downloadImageFallback){const n="string"==typeof e?new URL(e,this.baseUrl):e;n.search=this.baseUrl?.search??"";const r=await ue.downloadImageFallback(n.toString());if(t?.signal.aborted)throw{name:"AbortError",message:""};return r}{const n=await this.downloadBlob(e,t);return await createImageBitmap(n)}}finally{this.activeDownloads--}}async downloadImageFromBlob(e,t){try{if(this.activeDownloads++,ue.downloadImageFallback){const n=URL.createObjectURL(e),r=await ue.downloadImageFallback(n.toString());if(URL.revokeObjectURL(n),t?.signal.aborted)throw{name:"AbortError",message:""};return r}return await createImageBitmap(e)}finally{this.activeDownloads--}}}O(Array);class le{dispose(){}}class he{vertices;beginParam;endParam;tesselationParameters;kind="lineStrip";sense=1;constructor(e,t,n,r){this.vertices=e,this.beginParam=t,this.endParam=n,this.tesselationParameters=r}eval(e,t,n){const{vertices:r,endParam:o,tesselationParameters:s}=this;let i=0;for(;e<o&&i<s.length-1&&!(e<s[i+1]);)++i;const a=r[i],c=F(R(),r[i+1],a);C(c,c),t&&(U(t,c,e-s[i]),N(t,t,a)),n&&I(n,c)}invert(e){const{vertices:t,tesselationParameters:n}=this;let r=1e4,o=0;for(let s=0;s<t.length-1;++s){const i=de(e,t[s],t[s+1]),a=G(i.pos,e);if(a<r){r=a;const e=n[s+1]-n[s];o=n[s]+e*i.parameter}}return o}}class fe extends le{origin;direction;beginParam;endParam;sense;tesselationParameters;kind="line";constructor(e,t,n,r,o,s){super(),this.origin=e,this.direction=t,this.beginParam=n,this.endParam=r,this.sense=o,this.tesselationParameters=s}eval(e,t,n){const{origin:r,direction:o,sense:s,beginParam:i,endParam:a}=this;t&&(U(t,o,e),N(t,t,r)),n&&(s>0?I(n,o):k(n,o))}invert(e){const t=R();this.eval(this.beginParam,t,void 0);const n=R();this.eval(this.endParam,n,void 0);const r=G(t,n),o=R();F(o,e,t);const s=L(this.direction,o)/r;return this.beginParam+(this.endParam-this.beginParam)*s}}class pe extends le{origin;axisX;axisY;radius;beginParam;endParam;sense;tesselationParameters;kind="arc";tmp=R();constructor(e,t,n,r,o,s,i,a){super(),this.origin=e,this.axisX=t,this.axisY=n,this.radius=r,this.beginParam=o,this.endParam=s,this.sense=i,this.tesselationParameters=a}eval(e,t,n){const{sense:r}=this,o=Math.cos(e),s=Math.sin(e);if(t){const{origin:e,radius:n,axisX:r,axisY:i,tmp:a}=this;U(a,r,o*n),N(t,e,a),U(a,i,s*n),N(t,t,a)}if(n){const{axisX:e,axisY:t,tmp:i}=this;U(n,e,o*r),U(i,t,-s*r),N(n,i,n)}}invert(e){return 0}}class ge extends le{order;controlPoints;knots;weights;beginParam;endParam;sense;tesselationParameters;wasmInstance;buffer;kind="nurbs";ptr=0;constructor(e,t,n,r,o,s,i,a,c,d){super(),this.order=e,this.controlPoints=t,this.knots=n,this.weights=r,this.beginParam=o,this.endParam=s,this.sense=i,this.tesselationParameters=a,this.wasmInstance=c,this.buffer=d}dispose(){this.weights?this.wasmInstance._disposeNurbsCurve3DWithWeights(this.ptr):this.wasmInstance._disposeNurbsCurve3D(this.ptr)}eval(e,t,n){if(0===this.ptr&&(this.ptr=function(e,t,n,r,o){const s=o-1;var i=e._malloc(8*t.length),a=new Float64Array(e.HEAPF64.buffer,i,t.length);a.set(t);var c=e._malloc(24*n.length),d=new Float64Array(e.HEAPF64.buffer,c,3*n.length),u=new Float64Array(3*n.length);n.forEach(((e,t)=>{u[3*t]=e[0],u[3*t+1]=e[1],u[3*t+2]=e[2]})),d.set(u);var l=void 0;if(null!=r&&r.length>0){var h=e._malloc(8*r.length),f=new Float64Array(e.HEAPF64.buffer,h,r.length);f.set(r),l=e._getNurbsCurve3DWithWeights(s,n.length,a.byteOffset,d.byteOffset,f.byteOffset),e._free(f.byteOffset)}else l=e._getNurbsCurve3D(s,n.length,a.byteOffset,d.byteOffset,0);return e._free(a.byteOffset),e._free(d.byteOffset),l}(this.wasmInstance,this.knots,this.controlPoints,this.weights,this.order)),this.weights?this.wasmInstance._evalNurbsCurve3DWithWeights(this.ptr,e,t?this.buffer.byteOffset:void 0,n?this.buffer.byteOffset+24:void 0):this.wasmInstance._evalNurbsCurve3D(this.ptr,e,t?this.buffer.byteOffset:void 0,n?this.buffer.byteOffset+24:void 0),null!=t){const[e,n,r]=this.buffer.subarray(0,3);j(t,e,n,r)}if(null!=n){const[e,t,r]=this.buffer.subarray(3,6);j(n,e,t,r)}}invert(e){if(0===this.ptr){const e=this.controlPoints.map((e=>z(e[0]/Math.PI,e[1]/500)));this.ptr=se(this.wasmInstance,this.knots,e,this.weights,this.order)}return this.wasmInstance._invertNurbsCurve3D(this.ptr,e[0],e[1],e[2])}}class Ee extends le{origin;direction;beginParam;endParam;sense;kind="line";constructor(e,t,n,r,o){super(),this.origin=e,this.direction=t,this.beginParam=n,this.endParam=r,this.sense=o}eval(e,t,n){const{origin:r,direction:o}=this;var s,i,a;t&&(i=o,a=e,(s=t)[0]=i[0]*a,s[1]=i[1]*a,function(e,t,n){e[0]=t[0]+n[0],e[1]=t[1]+n[1]}(t,t,r)),n&&(this.sense>0?q(n,o):function(e,t){e[0]=-t[0],e[1]=-t[1]}(n,o))}project(e){const[t,n]=e,{origin:r,direction:o,beginParam:s,endParam:i}=this,a=t-r[0],c=n-r[1];let d=a*o[0]+c*o[1];const u=(s+i)/2,l=Math.abs(i-s)/2,h=u-l,f=u+l;return d=Math.max(h,Math.min(f,d)),d}}class Oe extends le{order;controlPoints;knots;weights;beginParam;endParam;sense;wasmInstance;buffer;kind="nurbs";ptr=0;constructor(e,t,n,r,o,s,i,a,c){super(),this.order=e,this.controlPoints=t,this.knots=n,this.weights=r,this.beginParam=o,this.endParam=s,this.sense=i,this.wasmInstance=a,this.buffer=c}eval(e,t,n){if(0===this.ptr){const e=this.controlPoints.map((e=>z(e[0]/Math.PI,e[1]/500)));this.ptr=se(this.wasmInstance,this.knots,e,this.weights,this.order)}if(this.weights?this.wasmInstance._evalNurbsCurve2DWithWeights(this.ptr,e,t?this.buffer.byteOffset:void 0,n?this.buffer.byteOffset+24:void 0):this.wasmInstance._evalNurbsCurve2D(this.ptr,e,t?this.buffer.byteOffset:void 0,n?this.buffer.byteOffset+24:void 0),null!=t){const[e,n]=this.buffer.subarray(0,2);K(t,e,n)}if(null!=n){const[e,t]=this.buffer.subarray(3,5);K(n,e,t)}}project(e){if(0===this.ptr){const e=this.controlPoints.map((e=>z(e[0]/Math.PI,e[1]/500)));this.ptr=se(this.wasmInstance,this.knots,e,this.weights,this.order)}return this.wasmInstance._projectNurbsCurve2D(this.ptr,e[0],e[1])}dispose(){this.weights?this.wasmInstance._disposeNurbsCurve2DWithWeights(this.ptr):this.wasmInstance._disposeNurbsCurve2D(this.ptr)}}const be=2*Math.PI;class De{origin;radius;beginParam;endParam;sense;kind="arc";constructor(e,t,n,r,o){this.origin=e,this.radius=t,this.beginParam=n,this.endParam=r,this.sense=o}eval(e,t,n){const r=Math.cos(e),o=Math.sin(e);if(t){const{origin:e,radius:n}=this;t[0]=r*n+e[0],t[1]=o*n+e[1]}if(n){const{sense:e}=this;n[0]=-o*e,n[1]=r*e}}project(e){const[t,n]=e,{origin:r,beginParam:o,endParam:s}=this;let i=Math.atan2(n-r[1],t-r[0]);i<0&&(i+=be);const a=(o+s)/2,c=Math.abs(s-o)/2,d=a-c,u=a+c;for(;i<a-Math.PI;)i+=be;for(;i>a+Math.PI;)i-=be;return i=Math.max(d,Math.min(u,i)),i}}O(Array);const _e=V(),we=V();V(),V();class Te{surface;sense;loops;triangulation;seams;instanceIndex;geometryTransformation;constructor(e,t,n,r,o,s,i){this.surface=e,this.sense=t,this.loops=n,this.triangulation=r,this.seams=o,this.instanceIndex=s,this.geometryTransformation=i}raytrace(e,t){return!!this.surface.intersect(e,t)}isInside(e){const{loops:t,sense:n}=this;let r=Number.MAX_VALUE,o=!0;for(const d of t)for(const t of d){const d=t.project(e);t.eval(d,_e,we);const u=(s=e,void 0,void 0,a=(i=_e)[0]-s[0],c=i[1]-s[1],Math.hypot(a,c));if(u<r){r=u,te(_e,e,_e);const[t,s]=we;we[0]=s*n,we[1]=-t*n,o=ee(we,_e)<0}}var s,i,a,c;return o}}O(Array);const ye=R();O(Array);const Pe=R(),me=R(),Me=R(),ve=new class{origin;direction;constructor(e,t){this.origin=e,this.direction=t}eval(e,t){U(e,this.direction,t),N(e,e,this.origin)}invert(e){return B(ye,e,this.origin),L(ye,this.direction)}}(me,Me);function Re(e,t,n,r=0){const o=t*t-4*e*n;if(!(o<0||0==e))return(-t+(Math.sign(e)*r?1:-1)*Math.sqrt(o))/(2*e)}function Se(e,t){return e&&!t?e:!e&&t?t:e&&t?P(t,e,t):void 0}class Ae{kind;sense;scale;surfaceToObjectSpaceTransform;objectToSurfaceSpaceTransform;surfaceToObjectSpaceTransformNormal;objectToSurfaceSpaceTransformNormal;constructor(e,t,n,r){this.kind=e,this.sense=n,this.scale=r;const o=t?(s=t,(i=new E(16))[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],i[9]=s[9],i[10]=s[10],i[11]=s[11],i[12]=s[12],i[13]=s[13],i[14]=s[14],i[15]=s[15],i):w();var s,i;P(o,m(w(),A(this.scale,this.scale,this.scale)),o),this.surfaceToObjectSpaceTransform=o;const a=y(w(),this.surfaceToObjectSpaceTransform);this.objectToSurfaceSpaceTransform=a;let c=D(b(),this.surfaceToObjectSpaceTransform);this.surfaceToObjectSpaceTransformNormal=c;const d=D(b(),this.objectToSurfaceSpaceTransform);this.objectToSurfaceSpaceTransformNormal=d}evalPosition(e,t){this.unitEvalPosition(e,t),Q(e,e,this.surfaceToObjectSpaceTransform)}evalNormal(e,t){this.unitEvalNormal(e,t),U(e,e,this.sense),W(e,e,this.surfaceToObjectSpaceTransformNormal),C(e,e)}invert(e,t){Q(Pe,t,this.objectToSurfaceSpaceTransform),this.unitInvert(e,Pe)}intersect(e,t){Q(me,t.origin,this.objectToSurfaceSpaceTransform),W(Me,t.direction,this.objectToSurfaceSpaceTransformNormal);const n=this.unitIntersect(ve);return!!n&&(ve.eval(Pe,n),this.unitInvert(e,Pe),!0)}dispose(){}}class Ie extends Ae{constructor(e,t=1,n){super("plane",e,t,n??1)}unitEvalPosition(e,t){j(e,t[0],t[1],0)}unitEvalNormal(e,t){j(e,0,0,1)}unitInvert(e,t){return K(e,t[0],t[1])}unitIntersect(e){if(e.direction[2]*this.sense<0)return-e.origin[2]/e.direction[2]}}class je extends Ae{radius;constructor(e=1,t,n=1,r){super("cylinder",Se(t,function(e){if(1==e)return;const t=w();return m(t,A(e,e,1)),t}(e)),n*Ne(t),r??1),this.radius=e}unitEvalPosition(e,t){j(e,Math.cos(t[0]),Math.sin(t[0]),t[1])}unitEvalNormal(e,t){j(e,Math.cos(t[0]),Math.sin(t[0]),0)}unitInvert(e,t){const[n,r,o]=t;let s=Math.atan2(r,n);s<0&&(s+=2*Math.PI),K(e,s,o)}unitIntersect(e){const{origin:t,direction:n}=e,[r,o]=t,[s,i]=n;return Re(s*s+i*i,2*(r*s+o*i),r*r+o*o-1,this.sense>0?0:1)}}function Ne(e){if(!e)return 1;const[t,n,r,o,s,i,a,c,d,u,l,h,f,p,g,E]=e,O=A(t,s,d),b=A(n,i,u),D=A(r,a,l),_=R();return H(_,O,b),L(_,D)>=0?1:-1}class Fe extends Ae{radius;halfAngleTan;scaleV;constructor(e=1,t=-1,n,r=1,o){super("cone",Se(n,function(e,t){if(1==e)return;const n=1/e,r=w(),o=w(),s=w();var i,a;return i=o,a=A(0,0,t*Math.sign(e)),i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=a[0],i[13]=a[1],i[14]=a[2],i[15]=1,m(r,A(1,1,n)),P(s,r,o),s}(t,e)),r*Ne(n),o??1),this.radius=e,this.halfAngleTan=t,this.scaleV=t*Math.cos(Math.atan(t))}unitEvalPosition(e,t){let[n,r]=t;r=r*this.scaleV+this.radius,j(e,Math.cos(n)*r,Math.sin(n)*r,r)}unitEvalNormal(e,t){const[n,r]=t,o=Math.sqrt(.5);j(e,Math.cos(n)*o,Math.sin(n)*o,-o)}unitInvert(e,t){const[n,r,o]=t;let s=Math.atan2(r,n);s<0&&(s+=2*Math.PI),K(e,s,(o-this.radius)/this.scaleV)}unitIntersect(e){const{origin:t,direction:n}=e,[r,o,s]=t,[i,a,c]=n;return Re(i*i+a*a-c*c,2*(r*i+o*a-s*c),r*r+o*o-s*s,this.sense>0?0:1)}}class Ue extends Ae{majorRadius;minorRadius;constructor(e=1,t=.5,n,r=1,o){super("torus",n,r,o??1),this.majorRadius=e,this.minorRadius=t}unitEvalPosition(e,t){const[n,r]=t,{majorRadius:o,minorRadius:s}=this,i=o+Math.cos(r)*s;j(e,Math.cos(n)*i,Math.sin(n)*i,Math.sin(r)*s)}unitEvalNormal(e,t){const[n,r]=t;j(e,Math.cos(n)*Math.cos(r),Math.sin(n)*Math.cos(r),Math.sin(r))}unitInvert(e,t){const[n,r,o]=t;let s=Math.atan2(r,n);s<0&&(s+=2*Math.PI);let i=Math.atan2(o,Math.sqrt(n*n+r*r)-this.majorRadius);i<0&&(i+=2*Math.PI),K(e,s,i)}unitIntersect(e){return function(e,t,n){const{origin:r,direction:o}=e;let s=1;const i=t*t,a=n*n,c=L(r,r),d=L(r,o);if(d*d-c+(t+n)*(t+n)<0)return;const u=(c-a-i)/2;let l=d,h=d*d+i*o[2]*o[2]+u,f=u*d+i*r[2]*o[2],p=u*u+i*r[2]*r[2]-i*a;if(Math.abs(l*(l*l-h)+f)<.01){s=-1;const e=f;f=l,l=e,p=1/p,f*=p,h*=p,l*=p}let g=2*h-3*l*l,E=l*(l*l-h)+f,O=l*(l*(-3*l*l+4*h)-8*f)+4*p;g/=3,E*=2,O/=3;const b=g*g+O,D=3*O*g-g*g*g-E*E;let _=D*D-b*b*b,w=0;if(_<0){const e=Math.sqrt(b);w=2*e*Math.cos(Math.acos(D/(e*b))/3)}else{const e=Math.pow(Math.sqrt(_)+Math.abs(D),1/3);w=Math.sign(D)*Math.abs(e+b/e)}w=g-w;let T=w-3*g,y=w*w-3*O;if(Math.abs(T)<1e-4){if(y<0)return;y=Math.sqrt(y)}else{if(T<0)return;T=Math.sqrt(T/2),y=E/T}let P=Number.MAX_VALUE;if(_=T*T-w+y,_>0){_=Math.sqrt(_);let e=-T-_-l;e=s<0?2/e:e;let t=-T+_-l;t=s<0?2/t:t,e>0&&(P=e),t>0&&(P=Math.min(P,t))}if(_=T*T-w-y,_>0){_=Math.sqrt(_);let e=T-_-l;e=s<0?2/e:e;let t=T+_-l;t=s<0?2/t:t,e>0&&(P=Math.min(P,e)),t>0&&(P=Math.min(P,t))}return P!=Number.MAX_VALUE?P:void 0}(e,this.majorRadius,this.minorRadius)}}class xe extends Ae{orders;dim;controlPoints;knots;weights;sense;wasmInstance;buffer;kind="nurbs";ptr=0;constructor(e,t,n,r,o,s,i,a,c){super("nurbs",void 0,s,c??1),this.orders=e,this.dim=t,this.controlPoints=n,this.knots=r,this.weights=o,this.sense=s,this.wasmInstance=i,this.buffer=a}dispose(){this.weights?this.wasmInstance._disposeNurbsSurface(this.ptr):this.wasmInstance._disposeNurbsSurfaceWithWeights(this.ptr)}unitEvalPosition(e,t){0===this.ptr&&(this.ptr=ie(this.wasmInstance,this.knots,this.dim[0],this.dim[1],this.controlPoints,this.weights,this.orders[0],this.orders[1])),this.weights?this.wasmInstance._evalNurbsSurfaceWithWeights(this.ptr,t[0],t[1],this.buffer.byteOffset,void 0):this.wasmInstance._evalNurbsSurface(this.ptr,t[0],t[1],this.buffer.byteOffset,void 0);const[n,r,o]=this.buffer.subarray(0,3);j(e,n,r,o)}unitEvalNormal(e,t){0===this.ptr&&(this.ptr=ie(this.wasmInstance,this.knots,this.dim[0],this.dim[1],this.controlPoints,this.weights,this.orders[0],this.orders[1])),this.weights?this.wasmInstance._evalNurbsSurfaceWithWeights(this.ptr,t[0],t[1],void 0,this.buffer.byteOffset+24):this.wasmInstance._evalNurbsSurface(this.ptr,t[0],t[1],void 0,this.buffer.byteOffset+24);const[n,r,o]=this.buffer.subarray(3,6);j(e,-n,-r,-o)}unitInvert(e,t){0===this.ptr&&(this.ptr=ie(this.wasmInstance,this.knots,this.dim[0],this.dim[1],this.controlPoints,this.weights,this.orders[0],this.orders[1])),this.wasmInstance._invertSurface(this.ptr,t[0],t[1],t[2],this.buffer.byteOffset);const[n,r]=this.buffer.subarray(0,2);K(e,n,r)}unitIntersect(e){}}class ke{curve;geometryTransformation;instanceIndex;constructor(e,t,n){this.curve=e,this.geometryTransformation=t,this.instanceIndex=n}}function Ce(e){return void 0!==e.transformation?T(...e.transformation):((t=w())[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t);var t}O(Array);const Le=async function(){const e=await async function(){return await oe({locateFile:e=>"742f048fd859d9d1.wasm"})}();var t=e._malloc(48),n=new Float64Array(e.HEAPF64.buffer,t,6);return new Qe(e,n)}();function He(e){switch(e){case"mm":return.001;case"cm":return.01;default:return 1}}function Xe(e,t,n,r){const o=e.geometries[t.geometry];if(o.shells)for(const t of o.shells){const n=e.shells[t];for(const e of n.faces)r(e)}if(o.solids)for(const t of o.solids){const n=e.solids[t];for(const t of e.shells[n.outerShell].faces)r(t);if(n.innerShells)for(const t of n.innerShells){const n=e.shells[t];for(const e of n.faces)r(e)}}}class Qe{wasmInstance;buffer;constructor(e,t){this.wasmInstance=e,this.buffer=t}getCurve2D(e,t){const n=e.halfEdges[t];let[r,o]=n.parameterBounds,s=1;n.direction<0&&(s=-1,[r,o]=[o,r]);const i=e.curves2D[n.curve2D];switch(i.kind){case"line":{const e=z(...i.origin),t=z(...i.direction);return new Ee(e,t,r,o,s)}case"circle":{const e=z(...i.origin),{radius:t}=i;return new De(e,t,r,o,s)}case"nurbs":{const{order:e,controlPoints:t,knots:n,weights:a}=i;return new Oe(e,t,n,a,r,o,s,this.wasmInstance,this.buffer)}default:throw Error("Unsupported curve type!")}}getCurve3D(e,t){const n=e.halfEdges[t];return this.getCurve3DFromEdge(e,n.edge,n.direction)}getHalfEdgeAABB(e,t){const n=e.halfEdges[t];if(n.aabb)return n.aabb;const r=this.getCurve2D(e,t),o=[];switch(r.kind){case"line":o.push(V()),o.push(V()),r.eval(r.beginParam,o[0],void 0),r.eval(r.endParam,o[1],void 0);break;case"arc":o.push(V()),o.push(V()),r.eval(r.beginParam,o[0],void 0),r.eval(r.endParam,o[1],void 0);const e=r.endParam>2*Math.PI?2*-Math.PI:0;for(let t=1;t<4;++t){const n=Math.PI/2*t+e;if(n>=r.beginParam||n<=r.endParam){const e=V();r.eval(n,e,void 0),o.push(e)}}}const s=q(V(),o[0]),i=q(V(),o[0]);for(let e=1;e<o.length;++e)$(s,s,o[e]),J(i,i,o[e]);return{min:s,max:i}}getCurve3DFromEdgeOrSegment(e,t){if(null!=t.curve3D){let[n,r]=t.parameterBounds;const o=e.curves3D[t.curve3D];switch(o.kind){case"line":{const e=A(...o.origin),s=A(...o.direction);return new fe(e,s,n,r,1,t.tesselationParameters)}case"circle":{const e=A(...o.origin),{radius:s,axisX:i,axisY:a}=o;return new pe(e,i,a,s,n,r,1,t.tesselationParameters)}case"nurbs":{const{order:e,controlPoints:s,knots:i,weights:a}=o;return new ge(e,s,i,a,n,r,1,t.tesselationParameters,this.wasmInstance,this.buffer)}case"lineStrip":return new he(o.vertices,n,r,t.tesselationParameters);default:throw Error("Unsupported curve type!")}}}getCurve3DFromSegment(e,t){return this.getCurve3DFromEdgeOrSegment(e,e.curveSegments[t])}getCurve3DFromEdge(e,t,n=1){return this.getCurve3DFromEdgeOrSegment(e,e.edges[t])}getSurface(e,t,n){switch(e.kind){case"plane":{const r=T(...e.transform);return new Ie(r,t,n)}case"cylinder":{const r=T(...e.transform);return new je(e.radius,r,t,n)}case"cone":{const r=T(...e.transform);return new Fe(e.radius,e.halfAngleTan,r,t,n)}case"torus":{const r=T(...e.transform);return new Ue(e.majorRadius,e.minorRadius,r,t,n)}case"nurbs":return new xe(e.orders,e.dim,e.controlPoints,e.knots,e.weights,t,this.wasmInstance,this.buffer,n);default:throw Error("Unsupported surface type!")}}makeFace(e,t,n,r,o){const s=[e.outerLoop,...e.innerLoops??[]],i=new Set,a=s.map((e=>r.loops[e].halfEdges.map((e=>{const t=r.halfEdges[e].edge;return r.edges[t].virtual&&i.add(t),o[e]})))),c=[];for(const e of i){const t=r.edges[e],[n,o]=t.halfEdges;if(null!=o){const e=r.halfEdges[n].faceVertexIndices,t=r.halfEdges[o].faceVertexIndices,s=[];for(let n=0;n<e.length;n++)s.push([e[n],t[n]]);c.push({vertexIndexPairs:s})}}const d=this.getSurface(r.surfaces[e.surface],e.facing);return new Te(d,e.facing,a,e.triangulation,c,n,t.transformation?Ce(t):void 0)}getFaces(e){const t=e.halfEdges.map(((t,n)=>this.getCurve2D(e,n))),n=[];for(let r=0;r<e.instances.length;++r){const o=e.instances[r],s=s=>{n.push(this.makeFace(e.faces[s],o,r,e,t))};"number"==typeof o.geometry&&Xe(e,o,0,s)}return n}getCurvesFromEdges(e,t){const n=new Array;for(let r=0;r<e.edges.length;++r){const o=this.getCurve3DFromEdge(e,r),s=e.edges[r];if(o&&!s.virtual){const s=e.instances[t[r]],i=w();s.transformation&&v(i,i,Ce(s)),n.push(new ke(o,i,t[r]))}else n.push(void 0)}return n}getEdges(e){const t=new Array(e.edges.length);for(let n=0;n<e.instances.length;++n){const r=r=>{const o=e.faces[r],s=[o.outerLoop,...o.innerLoops??[]];for(const r of s){const o=e.loops[r];for(const r of o.halfEdges){const o=e.halfEdges[r];t[o.edge]=n}}},o=e.instances[n];"number"==typeof o.geometry&&Xe(e,o,0,r)}return this.getCurvesFromEdges(e,t)}}function We(e,t,n=0){for(let r=0;r<3;++r)if(e[r]-t.min[r]+n<0||t.max[r]-e[r]+n<0)return!1;return!0}function Ye(e,t,n,r){const o=function(e,t){const n=e.loops[t.outerLoop].halfEdges.map((t=>e.halfEdges[t]));for(const t of n){const n=e.edges[t.edge];if(n.virtual)return(n.parameterBounds[1]-n.parameterBounds[0])*t.direction}return 0}(e,t),s=T(...n.transform),i=M(R(),s),a=A(s[8],s[9],s[10]),c=N(R(),i,U(R(),a,o));return Q(i,i,r),Q(c,c,r),[i,c]}function Be(e,t,n,r){const o=B(R(),t,e);Z(o),C(o,o);const s=B(R(),r,n);C(s,s);const i=L(o,s),a=Z(H(R(),o,s));return function(e,t,n,r){const o=L(B(R(),n,e),t),s=x(R(),e,t,o),c=G(s,n)*i/a;return x(R(),e,t,o+c)}(e,o,n)}function Ge(e,t,n,r){let o=R(),s=R();const{pos:i}=de(n,e,t),{pos:a}=de(r,e,t),{pos:c}=de(e,n,r),{pos:d}=de(t,n,r),u=S(B(R(),n,i)),l=S(B(R(),a,r)),h=S(B(R(),e,c)),f=S(B(R(),d,t));let p=0;return u<l&&u<h&&u<f?(p=u,o=i,s=n):l<h&&l<f?(p=l,o=a,s=r):h<f?(p=h,o=e,s=c):(p=h,o=t,s=d),[p,o,s]}function Ze(e,t,n,r,o=!1){const s=Ce(e.instances[n]),i=_(b(),s),a=z(0,0),c=R(),d=R();return o?(N(c,t.aabb.max,t.aabb.min),U(c,c,.5)):r.evalPosition(c,a),r.evalNormal(d,a),Q(c,c,s),W(d,d,i),C(d,d),[c,d]}function Ve(e,t){const n=[],r=_(b(),t);for(const o of e.tesselationParameters){const s=R(),i=R();e.eval(o,s,i),Q(s,s,t),W(i,i,r),C(i,i),ae(s),ae(i),n.push({pos:s,t:o,tangent:i})}return n}function ze(e,t){const n=Ve(e.curve,e.geometryTransformation).map((e=>e.pos));return t>0?n:n.reverse()}function qe(e,t){const n=[];for(let r=0;r<e.length;++r){const o=e[r];if(!o)continue;const s=Ve(o.curve,o.geometryTransformation),i=s.map((e=>Q(R(),e.pos,t))),a=[];let[c,d]=i[0];a.push(`M ${c} ${d}`);for(let e=1;e<s.length;++e)[c,d]=i[e],a.push(`L ${c} ${d}`);const u=a.join(" ");n.push({path:u,centerDepth:0,originalIndex:r,instanceIndex:o.instanceIndex,kind:"edge"})}return n}function Ke(e,t){const n=[];for(let s=0;s<e.length;++s){const i=e[s],{loops:a}=Je(i,t);let c=Number.MAX_VALUE,d=Number.MIN_VALUE;const u=[];function r(e){let t=0;for(let n=0;n<e.length;++n){const r=e[n],o=e[(n+1)%e.length];t+=(o[0]-r[0])*(o[1]+r[1])}return Math.sign(t)}function o(){const e=u.join(" "),t=(c+d)/2;n.push({path:e,centerDepth:t,originalIndex:s,instanceIndex:i.instanceIndex,kind:"face"})}for(const l of a){const h=l.map((e=>Q(R(),e,t)));r(h);for(const g of h){const E=g[2];c>E&&(c=E),d<E&&(d=E)}const[f,p]=h[h.length-1];u.push(`M ${f} ${p}`);for(const O of h){const[b,D]=O;u.push(`L ${b} ${D}`)}}o()}return n}function $e(e,t,n=1){const{edges:r}=e,o=r.map((e=>function(e,t){const[n,r]=e,o=t[n][2],s=t[r][2];return o>1e-4&&s>1e-4?1:o<1e-4&&s<1e-4?-1:0}(e.vertices,t)));return r.map(((e,t)=>t)).filter((e=>1===r[e].triangles.length&&o[e]*n>=0))}function Je(e,t){const n=function(e){const t=[],n=new Map,r=[],{surface:o,triangulation:s}=e,i=function(e,t,n){const r=[],o=n?_(b(),n):void 0;for(let s=0;s<t.vertices.length;s+=2){const i=z(t.vertices[s],t.vertices[s+1]),a=R(),c=R();e.evalPosition(a,i),e.evalNormal(c,i),n&&o&&(Q(a,a,n),W(c,c,o),C(c,c)),ae(a),ae(c),r.push({pos:a,uv:i,normal:c})}return r}(o,s,e.geometryTransformation),a=i.map(((e,t)=>t));for(const u of e.seams)for(const[l,h]of u.vertexIndexPairs)a[h]=l;const{indices:c}=s;for(let f=0;f<c.length;f+=3){const p=r.length,g=c.slice(f,f+3).map((e=>a[e]));-1==e.sense&&g.reverse();const[E,O,D]=g,w=F(R(),i[O].pos,i[E].pos),T=F(R(),i[D].pos,i[E].pos),y=R();if(H(y,w,T),0==L(y,y))continue;function d(e,r){const o=((s=e)>(i=r)&&([i,s]=[s,i]),BigInt(s)|BigInt(i)<<32n);var s,i;let a=n.get(o);if(void 0===a)a=t.length,n.set(o,a),t.push({vertices:[e,r],triangles:[p]});else{const{triangles:e}=t[a];t[a].triangles.push(p)}return a}C(y,y);const P=d(E,O),m=d(O,D),M=d(D,E);i[E].pos,i[O].pos,i[D].pos;const v={vertices:[E,O,D],edges:[P,m,M],normal:y};r.push(v)}return{triangles:r,vertices:i,edges:t}}(e),{normalsVS:r,positionsVS:o}=function(e,t){const{vertices:n}=e,r=new Array(n.length);for(let e=0;e<n.length;e++)r[e]=R(),Q(r[e],n[e].pos,t);const o=new Array(n.length),s=_(b(),t);for(let e=0;e<n.length;e++)o[e]=R(),W(o[e],n[e].normal,s);const i=A(0,0,1);return W(i,i,s),{positionsVS:r,normalsVS:o}}(n,t),s=[],{trimLoops:i,trimStrips:a}=function(e,t){const{edges:n,vertices:r}=e,o=$e(e,t),s=new Map,i=new Array(n.length).fill(0);for(const e of o){const t=n[e];let[r,o]=t.vertices;++i[r],--i[o],s.set(r,[o,e])}const a=i.map(((e,t)=>({index:t,count:e}))).filter((e=>1==e.count)),c=[],d=[];function u(e){let t=[],n=e;const o=s.get(n),i=o[1];let a=o[1];do{t.push(r[n].pos);const e=n,o=s.get(e);if(s.delete(e),void 0===o)break;n=o[0],a=o[1]}while(n!=e);return n==e?(a=i,{kind:"loop",strip:t}):(t=t.slice(1,t.length-1),{kind:"strip",startEdge:i,endEdge:a,strip:t})}for(const e of a){const t=u(e.index);"strip"===t.kind&&d.push(t)}for(;s.size>0;){const e=s.keys().next().value,{kind:t,strip:n}=u(e);c.push(n)}return{trimLoops:c,trimStrips:d}}(n,r);s.push(...i);const{loops:c,contourStrips:d}=function(e,t){const{edges:n,triangles:r,vertices:o}=e,s=n.map((e=>function(e,t){const[n,r]=e,o=t[n][2],s=t[r][2];return o>1e-4&&s>1e-4||o<1e-4&&s<1e-4?0:Math.sign(o-s)}(e.vertices,t))),i=r.map(((e,t)=>t)).filter((e=>0==function(e,t){const[n,r,o]=e,s=t[n][2],i=t[r][2],a=t[o][2];return s>1e-4&&i>1e-4&&a>1e-4?1:s<1e-4&&i<1e-4&&a<1e-4?-1:0}(r[e].vertices,t))),a=new Set(i),c=n.map(((e,n)=>{if(0==s[n])return;const r=function(e,t){const[n,r]=e,o=t[n][2];let s=(o-1e-4)/(o-t[r][2]);return s<0?0:s>1?1:s}(e.vertices,t),i=o[e.vertices[0]],a=o[e.vertices[1]];return X(R(),i.pos,a.pos,r)}));function d(e){const t=[];t.push(e);let o=e,i=!0;for(;i;){i=!1;for(const e of n[o].triangles)if(a.delete(e)){const n=r[e].edges.filter((e=>0!=s[e]&&e!=o));o=n[0],t.push(o),i=!0;break}}return t}function u(e,t){const r=n[e].triangles,o=n[t].triangles;return r.some((e=>o.some((t=>t==e))))}function l(e){const t=[];for(const n of e)t.push(c[n]);return t}const h=[],f=[];for(;a.size>0;){a.keys();const e=a.keys().next().value;a.delete(e);const t=r[e].edges.filter((e=>0!=s[e]));t.sort(((e,t)=>s[e]-s[t]));const n=d(t[0]),o=[...d(t[1]).reverse(),...n];u(o[0],o[o.length-1])?f.push(l(o)):h.push(o)}return{loops:f,contourStrips:h.map((e=>({startEdge:e[0],endEdge:e[e.length-1],strip:e.map((e=>c[e]))})))}}(n,r);s.push(...c);const u=[...d,...a];s.push(...function*(e){for(;e.length>0;){const t=[];let n=e.pop();const r=n.startEdge;for(t.push(...n.strip);;){let r;for(let t=0;t<e.length;++t){const{startEdge:o}=e[t];if(o==n.endEdge){r=t;break}}if(void 0===r)break;n=e[r],t.push(...n.strip),e.splice(r,1)}r===n.endEdge&&(yield t)}}(u));const{vertices:l,triangles:h,edges:f}=n;return{loops:s,trimLoops:i,contourLoops:c,trimEdges:$e(n,r,0).map((e=>f[e].vertices)),vertices:l,positionsVS:o}}O(Array),O(Array),O(Array);class et{baseUrl;downloader;json="";data=new Map;constructor(e){this.baseUrl=e,this.downloader=new ue(e)}async downloadBrep(e){try{return await this.downloader.downloadJson(e)}catch{return null}}async getProduct(e){let t=this.data.get(e);return void 0===t&&(t=await this.downloadBrep(`${e}.json`),this.data.set(e,t)),t??void 0}async getCameraValuesFromFace(e,t,n,r){const o=await this.getProduct(e);if(o){const e=o.faces[t],s=o.surfaces[e.surface];if("cylinder"===s.kind){const t=s,i=Ce(o.instances[n]),[a,c]=Ye(o,e,t,i),d=B(R(),c,a);C(d,d),ae(d);const u=L(r,d);if(Math.abs(u)>.8){let e;return u<0?e=c:(k(d,d),e=a),ae(e),{normal:d,position:e}}const l=X(R(),a,c,.5);ae(l);const h=H(R(),d,A(1,0,0)),f=L(r,h),p=Math.abs(f),g=H(R(),d,A(0,1,0)),E=L(r,g),O=Math.abs(E),b=H(R(),d,A(0,0,1)),D=L(r,b),_=Math.abs(D);return p>O&&p>_?(f>0&&k(h,h),{normal:h,position:l}):O>_?(E>0&&k(g,g),{normal:g,position:l}):(D>0&&k(b,b),{normal:b,position:l})}}}async getFaces(e,t){const n=await this.getProduct(e);if(n){const e=w();y(e,t);const r=Ke((await Le).getFaces(n),e).filter((e=>e.path.length>0));return r.sort(((e,t)=>e.centerDepth-t.centerDepth)),r}return[]}async pickEntity(e,t){const n=await this.getProduct(e);if(n){const r=new Array(n.instances.length),o=new Array(n.instances.length),s=new Array(n.instances.length);for(let h=0;h<n.instances.length;++h){const f=n.instances[h],p=new Array,g=new Array;function E(e){if(g.push(e),n){const t=n.faces[e],r=[t.outerLoop,...t.innerLoops??[]];for(const e of r){const t=n.loops[e];for(const e of t.halfEdges){const t=n.halfEdges[e];p.push(t.edge)}}}}"number"==typeof f.geometry&&Xe(n,f,0,E);const O=n.geometries[f.geometry];O.compoundCurve&&(s[h]=O.compoundCurve),r[h]=p,o[h]=g}ce(t);const i=He(n.units),a=.03/i,c=.1/i,d=.05/i;for(let b=0;b<s.length;++b){const D=Ce(n.instances[b]),_=y(w(),D),T=Q(R(),t,_);for(const P of s[b]){const m=(await Le).getCurve3DFromSegment(n,P);if(m){const M=m.invert(T),v=R();if(m.eval(M,v,void 0),G(v,T)<c)return{pathKind:"curveSegment",pathIndex:P,instanceIndex:b,parameter:M}}}}for(let S=0;S<r.length;++S){const A=Ce(n.instances[S]),I=y(w(),A),j=Q(R(),t,I);for(const N of r[S]){const F=n.edges[N];if(1!=F.virtual&&We(j,F.aabb,a)){const U=(await Le).getCurve3DFromEdge(n,N,1);if(U){const x=U.invert(j),k=R();if(F.vertices){if(Math.abs(F.parameterBounds[0]-x)<a)return U.eval(F.parameterBounds[0],k,void 0),Q(k,k,A),ae(k),{pathKind:"vertex",pathIndex:F.vertices[0],instanceIndex:S,parameter:k};if(Math.abs(F.parameterBounds[1]-x)<a)return U.eval(F.parameterBounds[1],k,void 0),Q(k,k,A),ae(k),{pathKind:"vertex",pathIndex:F.vertices[1],instanceIndex:S,parameter:k}}if(U.eval(x,k,void 0),G(k,j)<a)return{pathKind:"edge",pathIndex:N,instanceIndex:S,parameter:x}}}}}let u,l=Number.MAX_VALUE;for(let C=0;C<o.length;++C){const L=Ce(n.instances[C]),H=y(w(),L),X=Q(R(),t,H);for(const W of o[C]){const Y=n.faces[W];if(We(X,Y.aabb,d)){const B=n.surfaces[Y.surface],Z=(await Le).getSurface(B,1),z=V();Z.invert(z,X);const q=R();Z.evalPosition(q,z);const K=G(q,X);K<l&&K<d&&(u={pathKind:"face",pathIndex:W,instanceIndex:C,parameter:z},l=K)}}}return u}}async getEdges(e,t){const n=await this.getProduct(e);if(n){const e=w();return y(e,t),qe((await Le).getEdges(n),e).filter((e=>e.path.length>0))}return[]}async getPaths(e,t){const n=await this.getProduct(e);if(n){const e=Ke((await Le).getFaces(n),t).filter((e=>e.path.length>0));e.sort(((e,t)=>e.centerDepth-t.centerDepth));const r=qe((await Le).getEdges(n),t).filter((e=>e.path.length>0));return[...e,...r]}return[]}async getTesselatedEdge(e,t,n){const r=await this.getProduct(e);if(r){const e=(await Le).getCurve3DFromEdge(r,t);if(e)return ze({curve:e,geometryTransformation:Ce(r.instances[n]),instanceIndex:n},1)}return[]}async tesselateCurveSegment(e,t,n){const r=await this.getProduct(e);if(r){const e=(await Le).getCurve3DFromSegment(r,t);if(e)return ze({curve:e,geometryTransformation:Ce(r.instances[n]),instanceIndex:n},1)}return[]}async getFaceDrawObject(e,t,n){const r=await this.getProduct(e);if(r){const o=r.faces[t],s=r.surfaces[o.surface],i=[],a=r.loops[o.outerLoop];if("cylinder"==s.kind){const c=s,d=Ce(r.instances[n]),[u,l]=Ye(r,o,c,d);ae(u),ae(l),i.push({vertices:[u,l],drawType:"lines"});for(const h of a.halfEdges){const f=r.halfEdges[h];if(r.edges[f.edge].virtual)continue;const p=(await Le).getCurve3DFromEdge(r,f.edge);if(p){const g={curve:p,geometryTransformation:Ce(r.instances[n]),instanceIndex:n};i.push({vertices:ze(g,1),drawType:"lines"})}}}else{async function E(e){let t=[];if(r)for(const o of e.halfEdges){const e=r.halfEdges[o],s=(await Le).getCurve3DFromEdge(r,e.edge);if(s){const o=ze({curve:s,geometryTransformation:Ce(r.instances[n]),instanceIndex:n},e.direction);let i=0;for(;i<o.length;++i)t.push(o[i])}}return t}const O=await E(a);if(i.push({vertices:O,drawType:"filled"}),o.innerLoops)for(const b of o.innerLoops){const D=r.loops[b],_=await E(D);i.push({vertices:_,drawType:"filled"})}}return i}return[]}async edgeToEdgeMeasure(e,t,n,r,o,s){const i=await this.getProduct(e),a=await this.getProduct(r);if(i&&a)return await async function(e,t,n,r,o,s){let i={curve:(await Le).getCurve3DFromEdge(e,t),instance:n},a={curve:(await Le).getCurve3DFromEdge(r,o),instance:s};if(i.curve&&a.curve){const t=[i,a];if(t.sort(((e,t)=>e.curve.kind.localeCompare(t.curve.kind))),[i,a]=t,"line_line"==`${i.curve.kind}_${a.curve.kind}`){const t=Ce(e.instances[i.instance]),n=Ce(r.instances[a.instance]);return function(e,t,n,r){const o=R(),s=R(),i=R();e.eval(e.beginParam,o,i),e.eval(e.endParam,s,void 0),Q(o,o,t),Q(s,s,t);const a=R(),c=R(),d=R();n.eval(n.beginParam,a,d),n.eval(n.endParam,c,void 0),Q(a,a,r),Q(c,c,r);const u=Y(i,d)||Y(i,k(d,d));let[l,h,f]=Ge(o,s,a,c);const p=B(R(),h,f);if(!u){const e=Be(o,s,a,c),{pos:t}=de(e,a,c);l>G(e,t)&&B(p,t,e)}return ae(h),ae(f),{distance:Z(p),distanceX:Math.abs(p[0]),distanceY:Math.abs(p[1]),distanceZ:Math.abs(p[2]),pointA:h,pointB:f,points:[h,f]}}(i.curve,t,a.curve,n)}}}(i,t,n,a,o,s)}async edgeToPointMeasure(e,t,n,r){const o=await this.getProduct(e);if(o)return await async function(e,t,n,r){const o=(await Le).getCurve3DFromEdge(e,t);if(o){ce(r);const t=Ce(e.instances[n]);if("line"==o.kind){const e=o,n=R(),s=R(),i=R();o.eval(e.beginParam,n,i),o.eval(e.endParam,s,void 0),Q(n,n,t),Q(s,s,t);const a=R(),{pos:c}=de(r,n,s,a),d=B(R(),r,c);return ae(r),ae(c),{distance:Z(d),distanceX:d[0],distanceY:d[1],distanceZ:d[2],pointA:r,pointB:c}}if("arc"==o.kind){const e=o;if(0==e.beginParam&&e.endParam==2*Math.PI){const t=H(R(),e.axisX,e.axisY),n=L(t,F(R(),e.origin,r)),o=F(R(),r,U(R(),t,n)),s=B(R(),o,e.origin),i=Z(s);C(s,s);const a=N(R(),o,U(R(),s,i-e.radius)),c=B(R(),r,a),d=Y(o,a),u=B(R(),r,o),l=N(R(),a,u);return ae(r),ae(a),d&&ae(l),{distance:Z(c),distanceX:c[0],distanceY:c[1],distanceZ:c[2],normalDistance:d?Z(u):void 0,pointA:r,pointB:a,normalPoints:d?[a,l]:void 0}}}}}(o,t,n,r)}async faceToPointMeasure(e,t,n,r,o){const s=await this.getProduct(e);if(s)return await async function(e,t,n,r,o,s){const i=e.faces[t],a=e.surfaces[i.surface],c=(await Le).getSurface(a,1);if(c){ce(r);const t=Ce(e.instances[n]);switch(c.kind){case"plane":{const[t,o]=Ze(e,i,n,c,!1),s=L(o,F(R(),r,t)),a=N(R(),r,U(R(),k(R(),o),s));return ae(t),ae(a),ae(r),{normalDistance:Math.abs(s),distanceX:0,distanceY:0,distanceZ:0,normalPoints:[r,a]}}case"cylinder":{const n=s?s.cylinderMeasure:"center",c=a,[d,u]=Ye(e,i,c,t),l=R(),{pos:h}=de(r,d,u,l),f=B(R(),r,h),p=Y(l,h);return"center"!=n&&p&&(C(f,f),U(f,f,c.radius*o),"closest"==n?N(h,h,f):B(h,h,f),B(f,r,h)),ae(r),ae(h),{distance:S(f),distanceX:Math.abs(f[0]),distanceY:Math.abs(f[1]),distanceZ:Math.abs(f[2]),pointA:r,pointB:h,validMeasureSettings:{a:p,b:p}}}}}}(s,t,n,r,He(s.units),o)}async edgeToFaceMeasure(e,t,n,r,o,s,i){const a=await this.getProduct(e),c=await this.getProduct(r);if(a&&c)return await async function(e,t,n,r,o,s,i){const a=(await Le).getCurve3DFromEdge(e,t),c=r.faces[o],d=r.surfaces[c.surface],u=(await Le).getSurface(d,1);if(a&&u)switch(`${a.kind}_${u.kind}`){case"line_plane":return function(e,t,n,r,o,s){const i=R(),a=R();e.eval((e.beginParam+e.endParam)/2,i,a),Q(i,i,t),W(a,a,_(b(),t)),C(a,a);const[c,d]=Ze(r,o,s,n);if(Math.abs(L(a,d))<.001){const e=L(d,c)-L(d,i),t=N(R(),i,U(R(),d,e));return ae(t),ae(i),{distance:Math.abs(e),distanceX:0,distanceY:0,distanceZ:0,pointA:void 0,pointB:void 0,normalPoints:[t,i],points:[t,i]}}}(a,Ce(e.instances[n]),u,r,c,s);case"line_cylinder":return async function(e,t,n,r,o,s,i,a){const c=R(),d=R();e.eval(e.beginParam,c,void 0),e.eval(e.endParam,d,void 0),Q(c,c,t),Q(d,d,t);const u=B(R(),c,d);C(u,u);const[l,h]=Ye(r,o,n,s),f=B(R(),h,l);C(f,f);const p=Y(f,u)||Y(f,k(R(),u)),[g,E,O]=Ge(l,h,c,d);ae(E),ae(O);const b=B(R(),O,E);if(!p){const e=Be(l,h,c,d),{pos:t}=de(e,c,d);g>G(e,t)&&B(b,t,e)}return"center"!=a&&p&&(C(b,b),U(b,b,n.radius*i),"closest"==a?N(E,E,b):B(E,E,b),B(b,O,E)),{distance:S(b),distanceX:Math.abs(b[0]),distanceY:Math.abs(b[1]),distanceZ:Math.abs(b[2]),pointA:E,pointB:O,points:[E,O],validMeasureSettings:{a:p,b:p}}}(a,Ce(e.instances[n]),d,r,c,Ce(r.instances[s]),He(r.units),i?i.cylinderMeasure:"center")}}(a,t,n,c,o,s,i)}async faceToFaceMeasure(e,t,n,r,o,s,i,a){const c=await this.getProduct(e),d=await this.getProduct(r);if(c&&d)return await async function(e,t,n,r,o,s,i,a){const c=e.faces[t],d=e.surfaces[c.surface];let u={surf:(await Le).getSurface(d,1),instanceIdx:n,faceData:c,data:d,product:e,setting:i};const l=r.faces[o],h=r.surfaces[l.surface];let f={surf:(await Le).getSurface(h,1),instanceIdx:s,faceData:l,data:h,product:r,setting:a};if(u.surf&&f.surf){const e=[u,f];switch(e.sort(((e,t)=>e.surf.kind.localeCompare(t.surf.kind))),[u,f]=e,`${u.surf.kind}_${f.surf.kind}`){case"plane_plane":return function(e,t,n,r,o,s,i,a){const[c,d]=Ze(e,t,n,r,!0),[u,l]=Ze(o,s,i,a);if(Math.abs(L(d,l))>.999){const e=L(d,F(R(),u,c)),t=N(R(),c,U(R(),d,e)),n=I(R(),c);return ae(n),ae(t),{distance:Math.abs(e),distanceX:0,distanceY:0,distanceZ:0,normalPoints:[n,t]}}}(u.product,u.faceData,u.instanceIdx,u.surf,f.product,f.faceData,f.instanceIdx,f.surf);case"cylinder_cylinder":{const e=u.data,t=Ce(u.product.instances[u.instanceIdx]),n=f.data,r=Ce(f.product.instances[f.instanceIdx]);return async function(e,t,n,r,o,s,i,a,c,d,u,l){const[h,f]=Ye(n,r,e,t),p=B(R(),f,h);C(p,p);const[g,E]=Ye(a,c,s,i),O=B(R(),E,g);C(O,O);const b=Y(p,O)||Y(p,k(R(),O)),[D,_,w]=Ge(h,f,g,E);ae(_),ae(w);const T=B(R(),_,w);if(b){if("center"!=u||"center"!=l){C(T,T);const t=U(R(),T,e.radius*o*-1),n=U(R(),T,s.radius*d);"closest"==u?N(_,_,t):"furthest"==u&&B(_,_,t),"closest"==l?N(w,w,n):"furthest"==l&&B(w,w,n),B(T,w,_)}}else{const e=Be(h,f,g,E),{pos:t}=de(e,h,E);D>G(e,t)&&B(T,t,e)}return{distance:S(T),distanceX:Math.abs(T[0]),distanceY:Math.abs(T[1]),distanceZ:Math.abs(T[2]),pointA:_,pointB:w,validMeasureSettings:{a:b,b}}}(e,t,u.product,u.faceData,He(u.product.units),n,r,f.product,f.faceData,He(f.product.units),u.setting?u.setting.cylinderMeasure:"center",f.setting?f.setting.cylinderMeasure:"center")}case"cylinder_plane":return function(e,t,n,r,o,s,i,a){const c=_(b(),t),d=T(...e.transform),u=M(R(),d);Q(u,u,t);const l=A(d[8],d[9],d[10]);W(l,l,c),C(l,l);const[h,f]=Ze(r,o,s,n),p=L(l,f);if(p<1e-6&&p>-1e-4){const t=L(f,h);let n=L(f,u)-t;"center"!=a&&(n="closest"==a?n>0?n-e.radius*i:n+e.radius*i:n>0?n+e.radius*i:n-e.radius*i);const r=N(R(),h,U(R(),f,n));return ae(h),ae(r),{normalDistance:Math.abs(n),distanceX:0,distanceY:0,distanceZ:0,normalPoints:[h,r]}}}(u.data,Ce(u.product.instances[u.instanceIdx]),f.surf,f.product,f.faceData,f.instanceIdx,He(u.product.units),u.setting?u.setting.cylinderMeasure:"center")}}}(c,t,n,d,o,s,i,a)}async getEdgeValues(e,t,n){const r=await this.getProduct(e);if(r){const e=R(),o=R(),s=r.edges[t];if(null!=s.curve3D){const i=r.curves3D[s.curve3D];switch(i.kind){case"line":{const i=Ce(r.instances[n]),a=(await Le).getCurve3DFromEdge(r,t);a?.eval(s.parameterBounds[0],e,void 0),a?.eval(s.parameterBounds[1],o,void 0);const c=F(R(),o,e);Q(e,e,i),Q(o,o,i);let d=Z(c);return d*=He(r.units),C(c,c),ae(e),ae(o),{kind:"line",distance:d,gradient:c,start:e,end:o}}case"circle":{const e=s.parameterBounds[1]-s.parameterBounds[0];return{kind:"arc",radius:i.radius,totalAngle:e}}}}}}async getFaceValues(e,t,n){const r=await this.getProduct(e);if(r){const i=r.faces[t],a=He(r.units),c=r.surfaces[i.surface],d=(await Le).getSurface(c,i.facing,a);switch(d.kind){case"plane":{const u=async t=>{let o=!0,s=0,i=[];for(const a of t.halfEdges){const t=r.halfEdges[a],c=await this.getEdgeValues(e,t.edge,n);c&&(o&&("arc"!=c.kind?(o=!1,s=void 0):s=Math.max(c.radius,s)),i.push(c))}return{edges:i,useRadius:o,radius:s}},l=Ce(r.instances[n]);function h(e,t){const n=(o=r.vertices[t].position,(s=new E(3))[0]=o[0],s[1]=o[1],s[2]=o[2],s);var o,s;Q(n,n,l),ae(n),e.push(n)}const f=r.loops[i.outerLoop],p={min:z(Number.MAX_VALUE,Number.MAX_VALUE),max:z(-Number.MAX_VALUE,-Number.MAX_VALUE)};let g=[];for(const m of f.halfEdges){o=p,s=(await Le).getHalfEdgeAABB(r,m),$(o.min,o.min,s.min),J(o.max,o.max,s.max);const M=r.halfEdges[m],v=r.edges[M.edge];v.vertices&&(1===M.direction?h(g,v.vertices[0]):h(g,v.vertices[1]))}const O=R();d.evalNormal(O,[0,0]);const b=A(0,0,1);let D;if(1-Math.abs(L(O,b))<1e-4){const S=R();d.evalPosition(S,[0,0]),U(S,S,1/a),Q(S,S,l),D=S[2]}let _,w,T,y=await u(f),P=[];if(i.innerLoops){let I=!0;_=0;for(const j of i.innerLoops){const N=r.loops[j],F=await u(N);P.push(F.edges),I=F.useRadius&&I,F.radius&&(_=Math.max(_,F.radius))}I||(_=void 0)}return y.useRadius||(w=(p.max[0]-p.min[0])*a,T=(p.max[1]-p.min[1])*a),{kind:"plane",width:w,height:T,outerRadius:y.radius,innerRadius:_,normal:O,area:i.area?i.area*a*a:void 0,vertices:g,outerEdges:y.edges,innerEdges:P,heightAboveXyPlane:D}}case"cylinder":{const x=c,k=Ce(r.instances[n]),[C,H]=Ye(r,i,x,k);return ae(C),ae(H),{kind:"cylinder",radius:x.radius*a,centerLineStart:C,centerLineEnd:H}}}}var o,s}}i(new class{scriptUrl;initialize(e){this.scriptUrl=e}terminate(){"DedicatedWorkerGlobalScope"in self&&self.close()}async createMeasureTool(e){return h(new et(new URL(e,this.scriptUrl)))}});